(function(a){a.fn.tabIndex=function(){var b=this;return b.delegate("input,select,textarea","keydown",function(e){var c;e.which===9&&(a(e.target).blur(),e.preventDefault(),c=b.find("button,input,textarea,select").filter(":visible:enabled").add(".multiline-editor").filter(function(){return a(this).css("visibility")!=="hidden"}),e=c.eq(a.inArray(this,c)+(e.shiftKey?-1:1)),e.length?e.is(".multiline-editor")?e.data("ckeditor").focus():e.focus():a(".greybutton").focus())})}})(jQuery);(function(a){function b(a,c,g,d,f,i,m){var h,k;m?(h=g===0?"":c.slice(-g),k=c.slice(-d)):(h=c.slice(0,g),k=c.slice(0,d));if(f.html(k+i).width()<f.html(h+i).width())return d;k=parseInt((g+d)/2,10);h=m?c.slice(-k):c.slice(0,k);f.html(h+i);if(f.width()===a)return k;f.width()>a?d=k-1:g=k+1;return b(a,c,g,d,f,i,m)}a.fn.truncate=function(e){e=a.extend({width:"auto",token:"&hellip;",center:!1,addclass:!1,addtitle:!1},e);return this.each(function(){var c=a(this),g={fontFamily:c.css("fontFamily"),fontSize:c.css("fontSize"),
fontStyle:c.css("fontStyle"),fontWeight:c.css("fontWeight"),"font-variant":c.css("font-variant"),"text-indent":c.css("text-indent"),"text-transform":c.css("text-transform"),"letter-spacing":c.css("letter-spacing"),"word-spacing":c.css("word-spacing"),display:"none"},d=c.text(),f=e.useOriginal?c.data("truncateOriginal")||d:d,g=a("<span/>").css(g).html(f).appendTo("body"),i=g.width(),m=!isNaN(parseFloat(e.width))&&isFinite(e.width)?e.width:c.width();i>m?(c.data("truncateOriginal",f),g.text(""),e.center?
(m=parseInt(m/2,10)+1,f=f.slice(0,b(m,f,0,f.length,g,e.token,!1))+e.token+f.slice(-1*b(m,f,0,f.length,g,"",!0))):f=f.slice(0,b(m,f,0,f.length,g,e.token,!1))+e.token,e.addclass&&c.addClass(e.addclass),e.addtitle&&c.attr("title",d),c.html(f)):d!==f&&c.html(f);g.remove()})}})(jQuery);(function(a){function b(a,c,g,d){return(g=g[c[0]])?g.apply(a,Array.prototype.slice.call(c,1)):d.apply(a,c)}a.fn.apply=function(a,c,g){return b(this,a,c,g)};a.apply=function(a,c,g){return b(null,a,c,g)}})(jQuery);(function(){function a(a,e){function c(c,d,f){a(c).one("focus",function(){setTimeout(function(){var a,b;c.selectionStart!==e?(c.selectionStart=d,c.selectionEnd=f):document.createRange?(a=c.childNodes[0],b=document.createRange(),a?(b.setStart(a,d),b.setEnd(a,f)):b.selectNodeContents(c),a=window.getSelection(),a.removeAllRanges(),a.addRange(b)):document.selection&&(b=c.createTextRange(),b.collapse(!0),b.moveStart("character",d),b.moveEnd("character",f-d),b.select())},1)});setTimeout(function(){c.focus()},
1)}a.fn.caret=function(a,d){var b=this.get(0),i=this.is("input");if(b){if(a===e)if(b.selectionStart!==e)a=b.selectionStart,d=b.selectionEnd;else{if(document.selection)i=this.val(),b=document.selection.createRange().duplicate(),b.moveEnd("character",i.length),a=b.text===""?i.length:i.lastIndexOf(b.text),b=document.selection.createRange().duplicate(),b.moveStart("character",-i.length),d=b.text.length}else{i=i?this.val():this.html();if(a==="end")a=d=i.length;else{if(typeof a!="number"||a<0)a=0;if(d===
"end"||d>i.lenth)d=i.length;typeof d!="number"&&(d=0);d<a&&(d=a);a>d&&(a=d)}c(b,a,d)}return{start:a,end:d}}}}typeof define==="function"?define(["jquery"],a):a(jQuery)})();(function(a,b){function e(c){return!a(c).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};a.ui.version||(a.extend(a.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),a.fn.extend({_focus:a.fn.focus,focus:function(c,b){return typeof c==="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus();b&&b.call(d)},c)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?a(this[0].ownerDocument||document):c},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var c=a(this[0]),g;c.length&&c[0]!==document;){g=
c.css("position");if(g==="absolute"||g==="relative"||g==="fixed")if(g=parseInt(c.css("zIndex"),10),!isNaN(g)&&g!==0)return g;c=c.parent()}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.each(["Width","Height"],function(c,g){function d(c,d,b,g){a.each(f,function(){d-=parseFloat(a.curCSS(c,"padding"+this,!0))||0;
b&&(d-=parseFloat(a.curCSS(c,"border"+this+"Width",!0))||0);g&&(d-=parseFloat(a.curCSS(c,"margin"+this,!0))||0)});return d}var f=g==="Width"?["Left","Right"]:["Top","Bottom"],i=g.toLowerCase(),e={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+g]=function(c){return c===b?e["inner"+g].call(this):this.each(function(){a(this).css(i,d(this,c)+"px")})};a.fn["outer"+g]=function(c,b){return typeof c!=="number"?e["outer"+g].call(this,
c):this.each(function(){a(this).css(i,d(this,c,!0,b)+"px")})}}),a.extend(a.expr[":"],{data:function(c,b,d){return!!a.data(c,d[3])},focusable:function(c){var b=c.nodeName.toLowerCase(),d=a.attr(c,"tabindex");if("area"===b){b=c.parentNode;d=b.name;if(!c.href||!d||b.nodeName.toLowerCase()!=="map")return!1;c=a("img[usemap=#"+d+"]")[0];return!!c&&e(c)}return(/input|select|textarea|button|object/.test(b)?!c.disabled:"a"==b?c.href||!isNaN(d):!isNaN(d))&&e(c)},tabbable:function(c){var b=a.attr(c,"tabindex");
return(isNaN(b)||b>=0)&&a(c).is(":focusable")}}),a(function(){var c=document.body,b=c.appendChild(b=document.createElement("div"));a.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=b.offsetHeight===100;a.support.selectstart="onselectstart"in b;c.removeChild(b).style.display="none"}),a.extend(a.ui,{plugin:{add:function(c,b,d){var c=a.ui[c].prototype,f;for(f in d)c.plugins[f]=c.plugins[f]||[],c.plugins[f].push([b,d[f]])},call:function(a,b,d){if((b=a.plugins[b])&&
a.element[0].parentNode)for(var f=0;f<b.length;f++)a.options[b[f][0]]&&b[f][1].apply(a.element,d)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(c,b){if(a(c).css("overflow")==="hidden")return!1;var d=b&&b==="left"?"scrollLeft":"scrollTop",f=!1;if(c[d]>0)return!0;c[d]=1;f=c[d]>0;c[d]=0;return f},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(c,b,d,f,i,e){return a.ui.isOverAxis(c,d,i)&&a.ui.isOverAxis(b,
f,e)}}))})(jQuery);(function(a,b){var e=0,c=Array.prototype.slice,g=a.cleanData;a.cleanData=function(c){for(var b=0,i;(i=c[b])!=null;b++)try{a(i).triggerHandler("remove")}catch(e){}g(c)};a.widget=function(c,b,g){var e,h,k,j,l={},n=c.split(".")[0],c=c.split(".")[1];e=n+"-"+c;if(!g)g=b,b=a.Widget;a.expr[":"][e.toLowerCase()]=function(c){return!!a.data(c,e)};a[n]=a[n]||{};h=a[n][c];k=a[n][c]=function(a,c){if(!this._createWidget)return new k(a,c);arguments.length&&this._createWidget(a,c)};a.extend(k,h,{version:g.version,
_proto:a.extend({},g),_childConstructors:[]});j=new b;j.options=a.widget.extend({},j.options);a.each(g,function(c,d){l[c]=a.isFunction(d)?function(){var a=function(){return b.prototype[c].apply(this,arguments)},g=function(a){return b.prototype[c].apply(this,a)};return function(){var c=this._super,b=this._superApply,f;this._super=a;this._superApply=g;f=d.apply(this,arguments);this._super=c;this._superApply=b;return f}}():d});k.prototype=a.widget.extend(j,{widgetEventPrefix:h?j.widgetEventPrefix:c},
l,{constructor:k,namespace:n,widgetName:c,widgetFullName:e});h?(a.each(h._childConstructors,function(c,b){var d=b.prototype;a.widget(d.namespace+"."+d.widgetName,k,b._proto)}),delete h._childConstructors):b._childConstructors.push(k);a.widget.bridge(c,k)};a.widget.extend=function(d){for(var f=c.call(arguments,1),g=0,e=f.length,h,k;g<e;g++)for(h in f[g])k=f[g][h],f[g].hasOwnProperty(h)&&k!==b&&(d[h]=a.isPlainObject(k)?a.isPlainObject(d[h])?a.widget.extend({},d[h],k):a.widget.extend({},k):k);return d};
a.widget.bridge=function(d,f){var g=f.prototype.widgetFullName||d;a.fn[d]=function(e){var h=typeof e==="string",k=c.call(arguments,1),j=this,e=!h&&k.length?a.widget.extend.apply(null,[e].concat(k)):e;h?this.each(function(){var c,f=a.data(this,g);if(!f)return a.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+e+"'");if(!a.isFunction(f[e])||e.charAt(0)==="_")return a.error("no such method '"+e+"' for "+d+" widget instance");c=f[e].apply(f,k);if(c!==f&&c!==b)return j=
c&&c.jquery?j.pushStack(c.get()):c,!1}):this.each(function(){var c=a.data(this,g);c?c.option(e||{})._init():a.data(this,g,new f(e,this))});return j}};a.Widget=function(){};a.Widget._childConstructors=[];a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(c,b){b=a(b||this.defaultElement||this)[0];this.element=a(b);this.uuid=e++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=a.widget.extend({},this.options,
this._getCreateOptions(),c);this.bindings=a();this.hoverable=a();this.focusable=a();if(b!==this)a.data(b,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===b&&this.destroy()}}),this.document=a(b.style?b.ownerDocument:b.document||b),this.window=a(this.document[0].defaultView||this.document[0].parentWindow);this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,
destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},
option:function(c,g){var e=c,m,h,k;if(arguments.length===0)return a.widget.extend({},this.options);if(typeof c==="string")if(e={},m=c.split("."),c=m.shift(),m.length){h=e[c]=a.widget.extend({},this.options[c]);for(k=0;k<m.length-1;k++)h[m[k]]=h[m[k]]||{},h=h[m[k]];c=m.pop();if(g===b)return h[c]===b?null:h[c];h[c]=g}else{if(g===b)return this.options[c]===b?null:this.options[c];e[c]=g}this._setOptions(e);return this},_setOptions:function(a){for(var c in a)this._setOption(c,a[c]);return this},_setOption:function(a,
c){this.options[a]=c;a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,b,g){var e,h=this;typeof c!=="boolean"&&(g=b,b=c,c=!1);g?(b=e=a(b),this.bindings=this.bindings.add(b)):(g=b,b=this.element,e=
this.widget());a.each(g,function(g,i){function l(){return!c&&(h.options.disabled===!0||a(this).hasClass("ui-state-disabled"))?void 0:(typeof i==="string"?h[i]:i).apply(h,arguments)}if(typeof i!=="string")l.guid=i.guid=i.guid||l.guid||a.guid++;var n=g.match(/^(\w+)\s*(.*)$/),q=n[1]+h.eventNamespace;(n=n[2])?e.delegate(n,q,l):b.bind(q,l)})},_off:function(a,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;a.unbind(c).undelegate(c)},_delay:function(a,c){var b=this;return setTimeout(function(){return(typeof a===
"string"?b[a]:a).apply(b,arguments)},c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){a(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){a(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){a(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){a(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,b,g){var e,
h=this.options[c],g=g||{},b=a.Event(b);b.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();b.target=this.element[0];if(c=b.originalEvent)for(e in c)e in b||(b[e]=c[e]);this.element.trigger(b,g);return!(a.isFunction(h)&&h.apply(this.element[0],[b].concat(g))===!1||b.isDefaultPrevented())}};a.each({show:"fadeIn",hide:"fadeOut"},function(c,b){a.Widget.prototype["_"+c]=function(g,e,h){typeof e==="string"&&(e={effect:e});var k,j=!e?c:e===!0||typeof e==="number"?b:e.effect||b,e=
e||{};typeof e==="number"&&(e={duration:e});k=!a.isEmptyObject(e);e.complete=h;e.delay&&g.delay(e.delay);if(k&&a.effects&&a.effects.effect[j])g[c](e);else if(j!==c&&g[j])g[j](e.duration,e.easing,h);else g.queue(function(b){a(this)[c]();h&&h.call(g[0]);b()})}})})(jQuery);(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(e){if(!0===a.data(e.target,b.widgetName+".preventClickEvent"))return a.removeData(e.target,b.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1});this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=
b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(b);this._mouseDownEvent=b;var e=this,c=b.which==1,g=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:!1;if(!c||g||!this._mouseCapture(b))return!0;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay);if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=
this._mouseStart(b)!==!1,!this._mouseStarted))return b.preventDefault(),!0;!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(a){return e._mouseMove(a)};this._mouseUpDelegate=function(a){return e._mouseUp(a)};a(b.target.ownerDocument).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return b.originalEvent.mouseHandled=
!0}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted)return this._mouseDrag(b),b.preventDefault();if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1)?this._mouseDrag(b):this._mouseUp(b);return!this._mouseStarted},_mouseUp:function(b){a(b.target.ownerDocument).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,
this._mouseUpDelegate);if(this._mouseStarted)this._mouseStarted=!1,b.target==this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b);return!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(a){var b={height:500,width:700,resizable:"yes",scrollbars:"yes"};a.fn.popup=function(e){var c,g,e=a.extend(!0,{},b,e);if(e.url)g=e.url,delete e.url;c=a.map(e,function(a,c){return c+"="+a}).join(",");return this.click(function(a){var b=g?g(this):this.href;a.preventDefault();(a=window.open(b,this.className.replace("-popup","").replace(" ",""),c))&&window.focus&&a.focus()})}})(jQuery);(function(a,b){function e(a,c,b){var d=h[c.type]||{};if((c.empty||b)&&a==null)return null;if(c.def&&a==null)return c.def;a=d.floor?~~a:parseFloat(a);return a==null||isNaN(a)?c.def:d.mod?(a%=d.mod,a<0?d.mod+a:a):d.min>a?d.min:d.max<a?d.max:a}function c(a,c,b){b=(b+1)%1;return b*6<1?a+(c-a)*6*b:b*2<1?c:b*3<2?a+(c-a)*(2/3-b)*6:a}var g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),d=/^([\-+])=\s*(\d+\.?\d*)/,f=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,
parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},
{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],i=a.Color=function(c,b,d,g){return new a.Color.fn.parse(c,b,d,g)},m={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",
empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},h={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},k=m.rgba.props,j=i.support={},l,n=a.each;m.hsla.props.alpha=k.alpha;i.fn=i.prototype={constructor:i,parse:function(c,d,g,h){if(c===b)return this._rgba=[null,null,null,null],this;if(c instanceof a||c.nodeType)c=c instanceof a?c.css(d):a(c).css(d),d=b;var j=this,D=a.type(c),B=this._rgba=[];d!==b&&(c=[c,d,g,h],D="array");if(D==="string"){c=c.toLowerCase();n(f,function(a,
b){var d=b.re.exec(c),g=d&&b.parse(d),f=b.space||"rgba",d=m[f].cache;if(g)return g=j[f](g),j[d]=g[d],B=j._rgba=g._rgba,!1});if(B.length!==0)return Math.max.apply(Math,B)===0&&a.extend(B,l.transparent),this;c=l[c]||l._default;return this.parse(c)}if(D==="array")return n(k,function(a,b){B[b.idx]=e(c[b.idx],b)}),this;if(D==="object")return c instanceof i?n(m,function(a,b){c[b.cache]&&(j[b.cache]=c[b.cache].slice())}):n(m,function(a,b){n(b.props,function(a,d){var g=b.cache;if(!j[g]&&b.to){if(c[a]==null||
a==="alpha")return;j[g]=b.to(j._rgba)}j[g][d.idx]=e(c[a],d,!0)})}),this},is:function(a){var c=i(a),b=!0,d=this;n(m,function(a,g){var f=c[g.cache],e;f&&(e=d[g.cache]||g.to&&g.to(d._rgba)||[],n(g.props,function(a,c){if(f[c.idx]!=null)return b=f[c.idx]==e[c.idx]}));return b});return b},_space:function(){var a=[],c=this;n(m,function(b,d){c[d.cache]&&a.push(b)});return a.pop()},transition:function(a,c){var b=i(a),d=b._space(),g=m[d],f=this[g.cache]||g.to(this._rgba),j=f.slice(),b=b[g.cache];n(g.props,
function(a,d){var g=d.idx,i=f[g],k=b[g],n=h[d.type]||{};k!==null&&(i===null?j[g]=k:(n.mod&&(k-i>n.mod/2?i+=n.mod:i-k>n.mod/2&&(i-=n.mod)),j[d.idx]=e((k-i)*c+i,d)))});return this[d](j)},blend:function(c){if(this._rgba[3]===1)return this;var b=this._rgba.slice(),d=b.pop(),g=i(c)._rgba;return i(a.map(b,function(a,c){return(1-d)*g[c]+d*a}))},toRgbaString:function(){var c="rgba(",b=a.map(this._rgba,function(a,c){return a==null?c>2?1:0:a});b[3]===1&&(b.pop(),c="rgb(");return c+b.join(",")+")"},toHslaString:function(){var c=
"hsla(",b=a.map(this.hsla(),function(a,c){a==null&&(a=c>2?1:0);c&&c<3&&(a=Math.round(a*100)+"%");return a});b[3]==1&&(b.pop(),c="hsl(");return c+b.join(",")+")"},toHexString:function(c){var b=this._rgba.slice(),d=b.pop();c&&b.push(~~(d*255));return"#"+a.map(b,function(a){a=(a||0).toString(16);return a.length==1?"0"+a:a}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}};i.fn.parse.prototype=i.fn;m.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,
null,null,a[3]];var c=a[0]/255,b=a[1]/255,d=a[2]/255,a=a[3],g=Math.max(c,b,d),f=Math.min(c,b,d),e=g-f,i=g+f,h=i*0.5;return[Math.round(f===g?0:c===g?60*(b-d)/e+360:b===g?60*(d-c)/e+120:60*(c-b)/e+240)%360,h===0||h===1?h:h<=0.5?e/i:e/(2-i),h,a==null?1:a]};m.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/360,d=a[1],g=a[2],a=a[3],d=g<=0.5?g*(1+d):g+d-g*d,g=2*g-d;return[Math.round(c(g,d,b+1/3)*255),Math.round(c(g,d,b)*255),Math.round(c(g,d,b-1/3)*255),
a]};n(m,function(c,g){var f=g.props,h=g.cache,j=g.to,k=g.from;i.fn[c]=function(c){j&&!this[h]&&(this[h]=j(this._rgba));if(c===b)return this[h].slice();var d=a.type(c),g=d==="array"||d==="object"?c:arguments,l=this[h].slice(),m;n(f,function(a,c){var b=g[d==="object"?a:c.idx];b==null&&(b=l[c.idx]);l[c.idx]=e(b,c)});return k?(m=i(k(l)),m[h]=l,m):i(l)};n(f,function(b,g){i.fn[b]||(i.fn[b]=function(f){var e=a.type(f),i=b==="alpha"?this._hsla?"hsla":"rgba":c,h=this[i](),j=h[g.idx];if(e==="undefined")return j;
e==="function"&&(f=f.call(this,j),e=a.type(f));if(f==null&&g.empty)return this;e==="string"&&(e=d.exec(f))&&(f=j+parseFloat(e[2])*(e[1]==="+"?1:-1));h[g.idx]=f;return this[i](h)})})});n(g,function(c,b){a.cssHooks[b]={set:function(c,d){d=i(d);if(!j.rgba&&d._rgba[3]!==1){var g,f=b==="backgroundColor"?c.parentNode:c;do g=a.curCSS(f,"backgroundColor");while((g===""||g==="transparent")&&(f=f.parentNode)&&f.style);d=d.blend(g&&g!=="transparent"?g:"_default")}d=d.toRgbaString();c.style[b]=d}};a.fx.step[b]=
function(c){if(!c.colorInit)c.start=i(c.elem,b),c.end=i(c.end),c.colorInit=!0;a.cssHooks[b].set(c.elem,c.start.transition(c.end,c.pos))}});a(function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(1,1,1,.5)";j.rgba=a.backgroundColor.indexOf("rgba")>-1});l=a.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",
darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",
red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);jQuery.fn.highlight=function(a,b){a=a||"#d7eca9";colorRGB1=jQuery.Color(a);colorRGB0=jQuery.Color(a);colorRGB0._rgba[3]=0;b=b||1E3;$(this).stop().css({backgroundColor:colorRGB1}).stop().delay(500).animate({backgroundColor:colorRGB0},{duration:b})};var Fat={make_hex:function(a,b,e){a=a.toString(16);a.length==1&&(a="0"+a);b=b.toString(16);b.length==1&&(b="0"+b);e=e.toString(16);e.length==1&&(e="0"+e);return"#"+a+b+e},fade_all:function(){for(var a=document.getElementsByTagName("*"),b=0;b<a.length;b++){var e=a[b],c=/fade-?(\w{3,6})?/.exec(e.className);c&&(c[1]||(c[1]=""),e.id&&Fat.fade_element(e.id,null,null,"#"+c[1]))}},fade_element:function(a,b,e,c,g){b||(b=30);e||(e=800);if(!c||c=="#")c="#ffff33";g||(g=this.get_bgcolor(a));var b=Math.round(b*
(e/1E3)),d=e/=b,f=0;c.length<7&&(c+=c.substr(1,3));g.length<7&&(g+=g.substr(1,3));for(var i=parseInt(c.substr(1,2),16),m=parseInt(c.substr(3,2),16),c=parseInt(c.substr(5,2),16),h=parseInt(g.substr(1,2),16),k=parseInt(g.substr(3,2),16),j=parseInt(g.substr(5,2),16),l,n,q;f<b;)l=Math.floor(i*((b-f)/b)+h*(f/b)),n=Math.floor(m*((b-f)/b)+k*(f/b)),q=Math.floor(c*((b-f)/b)+j*(f/b)),l=this.make_hex(l,n,q),setTimeout("Fat.set_bgcolor('"+a+"','"+l+"')",d),f++,d=e*f;setTimeout("Fat.set_bgcolor('"+a+"','"+g+"')",
d)},set_bgcolor:function(a,b){document.getElementById(a).style.backgroundColor=b},get_bgcolor:function(a){for(a=document.getElementById(a);a;){var b,e=$(a).css("background-color");e!=null&&!e.match(/rgba\s*\(0\s*,\s*0\s*,\s*0\s*,\s*0\)/)&&(b=e);if(a.currentStyle)b=a.currentStyle.backgroundColor;if(b!=""&&b!="transparent"&&b!==void 0||a.tagName=="BODY")break;a=a.parentNode}if(b==void 0||b==""||b=="transparent")b="#FFFFFF";if(a=b.match(/rgb\s*\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/))b=
this.make_hex(parseInt(a[1]),parseInt(a[2]),parseInt(a[3]));else if(a=b.match(/rgba\s*\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\)/))b=this.make_hex(parseInt(a[1]),parseInt(a[2]),parseInt(a[3]));return b}};(function(a,b){function e(a,c,b){a[c]||(a[c]=b)}function c(a){return a<10?"0"+a:""+a}function g(){var a=b("nav .selected");a.next().addClass("selected-r");a.prev().addClass("selected-l")}function d(){for(var a=b(".client-results"),c=a.find("li:visible"),d=c.length,g=c.find(":eq(0)").outerHeight(),a=a.parent().height(),a=Math.floor(a/g),d=Math.ceil(d/a),f=0;f<d;f++){var e=a*f,i=c.slice(e,a*(f+1));i.data("page-index",f);i.data("page-height",g*e)}}function f(){var a=-1,c=b(".dropdown"),g=b(".client-results"),
f=function(c,d){var f=!1,e=g.find("li:visible");d==="undefined"&&(f=d);f?a=c:a+=c;a<0?a=0:a>=e.length&&(a=e.length-1);e.removeClass("selected");e.eq(a).addClass("selected");(function(){var c=b(".client-result-wrap"),d=e.eq(a).data("page-height");c.scrollTop(d)})()},e=function(){b(".client-results > li").removeClass("selected");b(".client.many").removeClass("selected");b(".dropdown").fadeOut(300);a=-1};b(document).keydown(function(d){if(c.is(":visible")){var g=b(".client-results > li:visible");switch(d.keyCode){case 38:f(-1);
break;case 40:f(1);break;case 9:e();break;case 13:window.location=g.eq(a).find("a").attr("href")}d.preventDefault()}}).click(function(a){b(a.target).is("input#client-filter")||e()});b("#client-filter").keydown(function(a){if(a.keyCode==9||a.keyCode==40)b(this).blur(),f(0,!0);a.stopPropagation()}).change(function(){var c=b.trim(b(this).val());c.length>0?(g.find("a:not(:Contains("+c+"))").parent().hide(),g.find("a:Contains("+c+")").parent().show()):g.find("li").slideDown();a=-1;g.find("li:visible").length!==
0&&d();return!1}).keyup(function(){b(this).change()})}function i(){var a=b("#client-list-container"),c=a.find(".dropdown"),g;a.length&&(g=b.ajax({url:a.data("listUrl"),cache:!0}),g.then(function(d){var d=b(d),g=a.data("linkPrefix");g&&(g=g.substr(0,g.length-1),d.find("a").each(function(a,c){c.href=g+b(c).attr("href")}));d.find(".client-"+a.attr("data-current-client")).remove();c.append(d);f()}),a.click(function(a){if(c.find("ul > li").length===0)return!1;c.find(a.target).length||a.preventDefault();
c.is(":visible")||(a.stopPropagation(),b(".client.many").addClass("selected"),c.fadeIn(100,function(){var a=b("#client-filter");a.length>0&&a.focus();d()}))}))}function m(){jQuery.expr[":"].StartsWith=function(a,c,b){return(a.textContent||a.innerText||"").toUpperCase().indexOf(b[3].toUpperCase())===0};jQuery.expr[":"].Contains=function(a,c,b){return(a.textContent||a.innerText||"").toUpperCase().indexOf(b[3].toUpperCase())>=0}}function h(a){function c(){return document.createElement("link")}function d(){return new Image}
function g(a,c){c.rel="prefetch";c.href=a;document.getElementsByTagName("head")[0].appendChild(c)}function f(a,c){c.rel="prerender";c.href=a;document.getElementsByTagName("head")[0].appendChild(c);j=!0}function e(a,c){c.src=a}var i=!!window.localStorage,h,j=!1;h=function(a,i){var h,j,k;i?(h=c,j=f):a?(h=d,j=e,k=!0):(h=c,j=g);return function(a){var c=h(),d=b.Deferred();c.onload=function(){d.resolve()};if(k)c.onerror=function(){d.resolve()};j(a,c);return d.promise()}}(navigator.userAgent.indexOf("Trident")>
0,navigator.userAgent.indexOf("Chrome")>0);b.each(a,function(a,c){if(!j&&i){var b,d=["preload2",c].join("-");localStorage[d]||(b=h(c),b.then(function(){}),localStorage[d]=!0)}})}var k=[".jpg",".jpeg",".png",".gif",".bmp"],j=function(){var a=b('script[src*="/js/cm."]');return a.length===0?"":(a=a.attr("src").match(/https?:\/\/[^\/]*/))&&a.length>0?a[0]:""}();b.extend(String.prototype,{startsWith:function(a){return this.substring(0,a.length)===a},endsWith:function(a){var c=a.length;return this.substr(this.length-
c,c)===a},safeFilename:function(){var a=/[^a-zA-Z0-9_\-\.]/ig;return function(){return this.replace(a,"")}}(),pluralise:function(a,c){return a===1?this:c||this+"s"},htmlEncode:function(){return b("<div/>").text(""+this).html()},htmlDecode:function(){return b("<div/>").html(""+this).text()},stripHtml:function(){var a=/<\/?[a-z]+[^>]*>\s*/ig;return function(){return this.replace(a,"").trim()}}(),isValidUrl:function(){return/^((https?|ftp):\/\/)?(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(this)},
isValidEmail:function(){return/^[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z0-9\-]{2,40}$/i.test(this)},containsValidEmail:function(){return/(^|\W+)[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z0-9\-]{2,40}(\W+|$)/i.test(this)}});e(String.prototype,"trim",function(){return b.trim(this)});e(Array.prototype,"filter",function(a,c){if(typeof a!="function")throw new TypeError;for(var b=this.length,d=[],g=0;g<b;g++)if(g in this){var f=this[g];a.call(c,f,g,this)&&d.push(f)}return d});var l=navigator.userAgent.toLowerCase();l.indexOf("chrome")>
-1&&(b("head").append(b('<link type="text/css" rel="stylesheet" href="'+j+'/css/chrome.css" media="screen" />')),l.indexOf("chrome/39")>-1&&l.indexOf("windows")>-1&&b("head").append(b('<link type="text/css" rel="stylesheet" href="'+j+'/css/chrome39.css" media="screen" />')));b(window).load(function(){window.preload&&h(preload)});b(function(){m();i();g();window.Modernizr&&Modernizr.testAllProps("boxSizing")&&b("html").addClass("boxsizing");b.fn.placeHoldize&&b("input[placeholder], textarea[placeholder]").placeHoldize();
b.browser.msie&&b.browser.version=="8.0"?b("html").addClass("ie8 ie"):b.browser.msie&&b.browser.version=="9.0"?b("html").addClass("ie9 ie"):b.browser.msie&&b.browser.version=="10.0"?b("html").addClass("ie10 ie"):b.browser.mozilla&&b("html").addClass("ff");navigator.appVersion.indexOf("Win")!=-1&&b("html").addClass("win");b(".help-popup").popup({height:600,width:800});b(".invoice-popup").popup({height:580});b(".preview-popup,.previewB-popup").popup({height:600,width:950});window.JSON||b.getScript(j+
"/js/plugins/json2.min.js");var a=b("[name=__RequestVerificationToken]").val();typeof a!=="undefined"&&(b("body").bind("ajaxSend",function(c,b,d){d.multipart||d.type==="POST"&&d.contentType&&d.contentType.indexOf("json")!==-1&&b.setRequestHeader("__RequestVerificationToken",a)}),b.ajaxSetup({data:{__RequestVerificationToken:a}}))});b(window).load(Fat.fade_all);b.ajaxPrefilter(function(a,c){if(!c.cache)a.cache=a.dataType==="script"});b.extend(a,{isIE:function(a){return b.browser.msie&&(!a||parseFloat(b.browser.version)<=
a)},isSafari:b.browser.webkit&&navigator.userAgent.toLowerCase().indexOf("chrome")===-1,isIOS:navigator.platform.match(/^ip(?:ad|od|hone)$/i),isAndroid:navigator.userAgent.toLowerCase().indexOf("android")>-1,isValidImage:function(a){var c=!1,a=a.toLowerCase();b.each(k,function(b,d){c=c||a.endsWith(d)});return c},reformatImageFilename:function(a){var b=new Date,b=c(b.getHours())+c(b.getMinutes())+c(b.getSeconds()),d=a.safeFilename(),a=d.replace(/([\s\S]*)(\.[^.]*$)/ig,"$1"),d=d.replace(/([\s\S]*)(\.[^.]*$)/ig,
"$2"),a=a.substring(0,54-b.length-d.length-1);return a+"."+b+d},hasFileAPI:function(){if(window.XMLHttpRequest){var a=new XMLHttpRequest;if(!window.URL&&window.webkitURL)window.URL=window.webkitURL;return!(!a.upload||!window.FileReader||!window.File)}return!1}(),cdnDomain:j,numberWithCommas:function(a){return a.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g,",")},parseJSONDate:function(a){return new Date(parseInt(a.match(/\d+(?:\+\d+)?/)[0],10))},executeFunctionByName:function(a,c){for(var b=Array.prototype.slice.call(arguments,
2),d=a.split("."),g=d.pop(),f=0;f<d.length;f++)c=c[d[f]];return c[g].apply(c,b)}});a.truncArticleByParagraph=function(){var a=/(?=<p[^>]*>)|(?:<br[^>]*>\s*){2}/i,c=/^<p/i,d=/^<h\d+/i,g=b("<div />");return function(f,e){if(e==="all")return f;var i=f.split(a).filter(function(a){return!!a.length}),h=0,j=!1,k=0,e=parseInt(e,10),i=b.map(i.slice(0,e*2),function(a){if(h>=e)return!1;var b=0;a.match(d)?j?(b=k+1,k=0):(j=!0,k=1):(b=1,j=!1);h+=b;!a.match(d)&&!a.match(c)&&h<e-1&&(a+="<br /><br />");return a});
return g.html(i.filter(function(a){return a}).join("")).html()}}();a.isMobile=a.isIOS||a.isAndroid})(window.CS=window.CS||{},jQuery);function disableFormSubmissions(a){$("form#"+a).off("submit");$("form#"+a).on("submit",!1)}function enableFormSubmissions(a){$("form#"+a).off("submit")}function removePx(a){return parseInt(a.replace("px",""),10)}function submitForm(a){return $(a).submit()}
function checkSendingCampaign(a,b,e,c){var g="sending"+e,a={ID:a,n:e,overview:window.overview};if(c)g="ab"+g,a.ab=!0;$("#"+g).load("/reports/pageElements/checkSendingCampaign.aspx",$.param(a),function(a){a.indexOf("deliverPercent")<0&&a.indexOf("queuedCampaign")<0&&(b[e]=!1)})}function checkSendingCampaigns(){function a(a,c){$.each(a,function(g,d){d&&(checkSendingCampaign(d,a,g,c),b=!0)})}var b=!1;a(sendingCampaigns,!1);a(sendingABCampaigns,!0);b&&setTimeout(checkSendingCampaigns,5E3)}
function ajax(a,b,e,c,g,d,f){f||(f="html");g=g?$("#"+g).serialize():"";$.ajax({url:a,type:b,data:g,dataType:f,cache:!1,beforeSend:function(){d&&d()},success:function(a){e&&$("#"+e).html(a);c&&c(a)}})}$.extend({getUrlVars:function(){var a=[],b=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),e,c;for(c=0;c<b.length;c++)e=b[c].split("="),a.push(e[0]),a[e[0]]=e[1];return a},getUrlVar:function(a){return $.getUrlVars()[a]}});
$.extend(CS,{clearQueryStringParam:function(a){if($.param&&$.deparam){var b=[location.protocol,"//",location.host,location.pathname,location.search].join(""),e=$.deparam.querystring(b);e.hasOwnProperty(a)&&(delete e[a],window.history&&history.pushState&&history.replaceState({},document.title,$.param.querystring(b,e,2)))}}});(function(a){var b=null;hideMessages=function(e){b!==null&&(e=a.extend(!0,{hide:function(c,b){a(c.elementID).hide();if(b)for(var d in b)if(b[d]&&typeof b[d]==="string"){var f=a("#"+b[d]),e=f.attr(c.classAttr)===void 0||f.attr(c.classAttr)===""?c.defaultClass:f.attr("errorClass");e&&f.removeClass(e)}},errorSetup:{elementID:"#errorDiv",classAttr:"errorClass",defaultClass:"clearfixError"},successSetup:{elementID:"#successDiv"}},e),b.each(function(){var a=this.Errors;a&&e.hide(e.errorSetup,a.Fields);
(a=this.SuccessMessages)&&e.hide(e.successSetup,a.Fields)}),b=null)};a(document).ready(function(){a("form.cs-auto-ajax").submit(function(b){var c=a(this),g,d={insertElementBefore:c},f,i,m;b.preventDefault();hideMessages();b=c.attr("action");if(b===void 0||b.length==0)b=window.location;(g=c.data("cs-error-title"))&&a.extend(d,{title:g});if(g=c.data("cs-pre-hook"))try{CS.executeFunctionByName(g,window,c)}catch(h){}f=(i=c.data("cs-post-hook"))?function(a){try{CS.executeFunctionByName(i,window,a,c)}catch(b){}}:
a.noop;var k=function(c){a(c).parseJson({onError:f,onSuccess:f,errorSetup:d,onWait:function(c){c!=""&&(m=c);setTimeout(function(){a.post(m,k)},5E3)}})};a.post(b,c.serialize(),k)})});a.fn.parseJson=function(e){var c=function(a,c){c&&c.Messages&&a.renderer(c.Messages,c.Fields)},e=a.extend(!0,{onSuccess:a.noop,onError:a.noop,onRedirect:function(a){window.location.href=a},onWait:a.noop,errorSetup:{elementID:"#errorDiv",titleID:"failure",titleAttrs:'class="fade-f8acac"',messagesID:"failureMessage",title:"Sorry, the following errors occurred...",
classAttr:"errorClass",defaultClass:"clearfixError",renderer:function(c,b){var f='<div id="'+this.titleID+'" '+this.titleAttrs+">\n<h3>"+this.title+"</h3>\n</div>\n";f+='<div class="'+this.messagesID+'">\n<ol>\n';for(var e in c)c[e]&&typeof c[e]==="string"&&(f+="<li>"+c[e]+"</li>");f+="</ol>\n</div>";if(this.insertElementBefore&&a(this.elementID).length==0){var m='<div id="'+this.elementID.substring(1)+'" style="display:none"></div>';a(m).insertBefore(a(this.insertElementBefore))}a(this.elementID).html(f);
a(this.elementID).show();for(e in b)b[e]&&typeof b[e]==="string"&&(f=a("#"+b[e]),m=f.attr(this.classAttr)===void 0?this.defaultClass:f.attr("errorClass"),f.addClass(m))}}},e);this.each(function(){c(e.errorSetup,this.Errors);c(e.warningSetup,this.Warnings);c(e.successSetup,this.SuccessMessages);switch(this.Status){case "Error":e.onError(this);break;case "Success":e.onSuccess(this);break;case "Redirect":e.onRedirect(this.RedirectUrl.replace(/&amp;/g,"&"));break;case "Wait":e.onWait(this.RedirectUrl.replace(/&amp;/g,
"&"))}});b=this}})(jQuery);(function(a){a.fn.ajaxUpload=function(b){b=a.extend({loading:a.noop,onComplete:a.noop,onStart:a.noop},b);return this.submit(function(){b.onStart(this);var e="upload_"+Math.round(Math.random()*1E6),c=a('<iframe style="display:none" name="'+e+'" id="'+e+'"></iframe>');a(document.body).append(c);a(this).attr("target",e);b.loading();c.load(function(){var g=c.contents().find("body").html();g.length&&(g=a.parseJSON(g),b.onComplete(g),setTimeout(function(){c.remove()},200))})})}})(jQuery);if(!window.CS)window.CS={};
CS.PaymentDetails=function(){function a(){$("#"+d.overlayScreenID).show();hideMessages()}function b(){window.location.replace(d.successUrl)}function e(a){var c=function(){d.successAjaxUrl?$.ajax({url:d.successAjaxUrl,type:"POST",dataType:"html",complete:b}):b()};if(!analytics||!a||!a.Data||!a.Data.SendQuantcastCompletedOrder)c();else try{analytics.track("Completed Order",{orderId:a.Data.QuantcastOrderID,total:a.Data.Revenue,category:a.Data.PlanType},{integrations:{All:!1,Quantcast:!0}},c),CS&&CS.GoogleTagManager&&
CS.GoogleTagManager.trackEvent("Account","Converted","",{orderId:a.Data.QuantcastOrderID,revenue:a.Data.Revenue,planType:a.Data.PlanType})}catch(g){c()}}function c(a,b){$(eval("("+a+")")).parseJson({errorSetup:{elementID:"#nonexistent"},onError:function(a){var c="";try{c=a.Errors.Messages[0]}catch(d){}b.processServerError(c)},onWait:function(a){if(a!="")d.pollingUrl=a;setTimeout(function(){$.ajax({url:d.pollingUrl,success:function(a){c(a,b)},dataType:"html"})},5E3)},onSuccess:e,successSetup:{renderer:function(){}}})}
function g(a){a=eval("("+a+")");$(a).parseJson({errorSetup:{title:d.errorHeading},onError:function(){$("#"+d.overlayScreenID).hide();d.errorCallback&&d.errorCallback()},onWait:function(a){if(a!="")d.pollingUrl=a;setTimeout(function(){$.ajax({url:d.pollingUrl,success:g,dataType:"html"})},5E3)},onSuccess:e,successSetup:{renderer:function(){}}});window.CS.AutoSnapshot&&a.Errors===null&&a.Status.toLowerCase()!="error"&&CS.AutoSnapshot.logStateEventToGTM(!0)}var d={};return{settings:function(){return d},
setup:function(a){var c={errorHeading:a.errorHeading||"Sorry, we couldn't save your card details because...",existingCardIDs:$.merge(["existingCard"],a.existingCardIDs||[]),editCardIDs:$.merge(["editCard"],a.editCardIDs||[]),overlayScreenID:a.overlayScreenID||"bi_saving_card_screen",overlayContentID:a.overlayContentID||"bi_saving"};return d=$.extend(a,c)},submitNewCreditCardForm:function(a,b,g){$.ajax({url:d.submitUrl,type:"POST",data:b,dataType:"html",cache:!1,beforeSend:function(){g&&g()},success:function(b){c(b,
a)}})},submitForm:function(){tHeight=$(window).height();lHeight=$("#"+d.overlayContentID).height();$("#"+d.overlayContentID).css("margin-top",[tHeight-lHeight-90]/2+"px");$("#"+d.overlayScreenID).css("height",tHeight+1590+"px");scroll(0,0);ajax(d.submitUrl,"POST","",g,d.formID,a)},toggleEdit:function(){for(var a=0;a<d.existingCardIDs.length;a++)$("#"+d.existingCardIDs[a]).toggle();for(a=0;a<d.editCardIDs.length;a++)$("#"+d.editCardIDs[a]).toggle();this.editingCard()?this.setSaveCard():this.resetSaveCard()},
editingCard:function(){return $("#editCard").is(":visible")},resetSaveCard:function(){$("#savecard").val(!1)},setSaveCard:function(){$("#savecard").val(!0)}}}();(function(a,b){a.ProcessingScreen={show:function(){b("body").css({overflow:"hidden"});b("#bi_saving_card_screen").fadeIn("fast")},hide:function(){b("body").css({overflow:"auto"});b("#bi_saving_card_screen").fadeOut("fast")}}})(window.CS=window.CS||{},jQuery);$(document).ready(function(){$(".cs_monthly_auto_style").each(function(){var a=$(this),b=a.data("cs-tierid"),e=a.data("cs-min-tier"),c=a.data("cs-max-tier"),g=b;switch(b){case e:g=b+1;break;case c:g=b-1}a.find(".tier"+g+",.tier"+(g+1)+",.tier"+(g-1)).removeClass("cs_textra");a.find(".tier"+b).addClass("cs_tactive")})});if(!window.CS)window.CS={};CS.ConfirmRemoveCard=function(){function a(a){$(a).parseJson({errorSetup:{title:"Sorry, we couldn't remove your payment details because..."},onSuccess:function(){window.location.replace(b.successUrl)}})}var b;return{setup:function(a){b=a},removeCard:function(){$.ajax({url:b.submitUrl,type:"POST",data:$("#deletePaymentDetails").serialize(),dataType:"json",success:a})}}}();(function(a,b){function e(){b('.habla_conversation_notification:contains("{0}")').each(function(){var a=b(this).text();if(a){var g=a.indexOf("["),e=a.indexOf("]");if(g>=0&&e>0&&e>g&&(g=a.substring(g,e+1)))e=g.split("|"),e.length===1&&e[0]==="[{0}]"?(a=a.replace(g,'<a target="_blank" href="'+c+'">'+c+"</a>"),b(this).html(a)):e.length===2&&e[1]==="{0}]"&&(a=a.replace(g,'<a target="_blank" href="'+c+'">'+e[0].replace("[","")+"</a>"),b(this).html(a))}})}var c="",g=10;a.LiveChat={init:function(a,b){c=
a;g=b;window.olark||function(a){var c=window,b=document,d="https:",g=a.name,e="load",f=function(){function q(){o.P(e);c[g](e)}c[g]=function(){(o.s=o.s||[]).push(arguments)};for(var o=c[g]._={},p=a.methods.length;p--;)(function(a){c[g][a]=function(){c[g]("call",a,arguments)}})(a.methods[p]);o.l=a.loader;o.i=f;o.p={0:+new Date};o.P=function(a){o.p[a]=new Date-o.p[0]};c.addEventListener?c.addEventListener(e,q,!1):c.attachEvent("on"+e,q);var z=function(){function c(a){a="head";return["<",a,"></",a,"><",
e,' onload="var d=',F,";d.getElementsByTagName('head')[0].",l,"(d.",m,"('script')).",n,"='",d,"//",o.l,"'\"></",e,">"].join("")}var e="body",f=b[e];if(!f)return setTimeout(z,100);o.P(1);var l="appendChild",m="createElement",n="src",q=b[m]("div"),p=q[l](b[m](g)),v=b[m]("iframe"),F="document",s;q.style.display="none";f.insertBefore(q,f.firstChild).id=g;v.frameBorder="0";v.id=g+"-loader";if(/MSIE[ ]+6/.test(navigator.userAgent))v.src="javascript:false";v.allowTransparency="true";p[l](v);try{v.contentWindow[F].open()}catch(S){a.domain=
b.domain,s="javascript:var d="+F+".open();d.domain='"+b.domain+"';",v[n]=s+"void(0);"}try{var r=v.contentWindow[F];r.write(c());r.close()}catch(u){v[n]=s+'d.write("'+c().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}o.P(2)};z()};f()}({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]});olark.identify("1082-229-10-2639");olark.configure("box.start_hidden",!0);olark.configure("system.force_ssl",!0);olark("api.chat.onCommandFromOperator",
function(a){a.command.name==="end"&&setTimeout(function(){e()},g)});olark("api.box.onShow",function(){setTimeout(function(){e()},100)})}}})(window.CS=window.CS||{},jQuery);(function(){function a(a){a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(e,c,g,d,f){return a.easing[a.easing.def](e,c,g,d,f)},easeInQuad:function(a,c,b,d,f){return d*(c/=f)*c+b},easeOutQuad:function(a,c,b,d,f){return-d*(c/=f)*(c-2)+b},easeInOutQuad:function(a,c,b,d,f){return(c/=f/2)<1?d/2*c*c+b:-d/2*(--c*(c-2)-1)+b},easeInCubic:function(a,c,b,d,f){return d*(c/=f)*c*c+b},easeOutCubic:function(a,c,b,d,f){return d*((c=c/f-1)*c*c+1)+b},easeInOutCubic:function(a,c,b,
d,f){return(c/=f/2)<1?d/2*c*c*c+b:d/2*((c-=2)*c*c+2)+b},easeInQuart:function(a,c,b,d,f){return d*(c/=f)*c*c*c+b},easeOutQuart:function(a,c,b,d,f){return-d*((c=c/f-1)*c*c*c-1)+b},easeInOutQuart:function(a,c,b,d,f){return(c/=f/2)<1?d/2*c*c*c*c+b:-d/2*((c-=2)*c*c*c-2)+b},easeInQuint:function(a,c,b,d,f){return d*(c/=f)*c*c*c*c+b},easeOutQuint:function(a,c,b,d,f){return d*((c=c/f-1)*c*c*c*c+1)+b},easeInOutQuint:function(a,c,b,d,f){return(c/=f/2)<1?d/2*c*c*c*c*c+b:d/2*((c-=2)*c*c*c*c+2)+b},easeInSine:function(a,
c,b,d,f){return-d*Math.cos(c/f*(Math.PI/2))+d+b},easeOutSine:function(a,c,b,d,f){return d*Math.sin(c/f*(Math.PI/2))+b},easeInOutSine:function(a,c,b,d,f){return-d/2*(Math.cos(Math.PI*c/f)-1)+b},easeInExpo:function(a,c,b,d,f){return c==0?b:d*Math.pow(2,10*(c/f-1))+b},easeOutExpo:function(a,c,b,d,f){return c==f?b+d:d*(-Math.pow(2,-10*c/f)+1)+b},easeInOutExpo:function(a,c,b,d,f){return c==0?b:c==f?b+d:(c/=f/2)<1?d/2*Math.pow(2,10*(c-1))+b:d/2*(-Math.pow(2,-10*--c)+2)+b},easeInCirc:function(a,c,b,d,f){return-d*
(Math.sqrt(1-(c/=f)*c)-1)+b},easeOutCirc:function(a,c,b,d,f){return d*Math.sqrt(1-(c=c/f-1)*c)+b},easeInOutCirc:function(a,c,b,d,f){return(c/=f/2)<1?-d/2*(Math.sqrt(1-c*c)-1)+b:d/2*(Math.sqrt(1-(c-=2)*c)+1)+b},easeInElastic:function(a,c,b,d,f){var a=1.70158,i=0,m=d;if(c==0)return b;if((c/=f)==1)return b+d;i||(i=f*0.3);m<Math.abs(d)?(m=d,a=i/4):a=i/(2*Math.PI)*Math.asin(d/m);return-(m*Math.pow(2,10*(c-=1))*Math.sin((c*f-a)*2*Math.PI/i))+b},easeOutElastic:function(a,c,b,d,f){var a=1.70158,i=0,m=d;if(c==
0)return b;if((c/=f)==1)return b+d;i||(i=f*0.3);m<Math.abs(d)?(m=d,a=i/4):a=i/(2*Math.PI)*Math.asin(d/m);return m*Math.pow(2,-10*c)*Math.sin((c*f-a)*2*Math.PI/i)+d+b},easeInOutElastic:function(a,c,b,d,f){var a=1.70158,i=0,m=d;if(c==0)return b;if((c/=f/2)==2)return b+d;i||(i=f*0.3*1.5);m<Math.abs(d)?(m=d,a=i/4):a=i/(2*Math.PI)*Math.asin(d/m);return c<1?-0.5*m*Math.pow(2,10*(c-=1))*Math.sin((c*f-a)*2*Math.PI/i)+b:m*Math.pow(2,-10*(c-=1))*Math.sin((c*f-a)*2*Math.PI/i)*0.5+d+b},easeInBack:function(a,
c,b,d,f,i){i==void 0&&(i=1.70158);return d*(c/=f)*c*((i+1)*c-i)+b},easeOutBack:function(a,c,b,d,f,i){i==void 0&&(i=1.70158);return d*((c=c/f-1)*c*((i+1)*c+i)+1)+b},easeInOutBack:function(a,c,b,d,f,i){i==void 0&&(i=1.70158);return(c/=f/2)<1?d/2*c*c*(((i*=1.525)+1)*c-i)+b:d/2*((c-=2)*c*(((i*=1.525)+1)*c+i)+2)+b},easeInBounce:function(e,c,g,d,f){return d-a.easing.easeOutBounce(e,f-c,0,d,f)+g},easeOutBounce:function(a,c,b,d,f){return(c/=f)<1/2.75?d*7.5625*c*c+b:c<2/2.75?d*(7.5625*(c-=1.5/2.75)*c+0.75)+
b:c<2.5/2.75?d*(7.5625*(c-=2.25/2.75)*c+0.9375)+b:d*(7.5625*(c-=2.625/2.75)*c+0.984375)+b},easeInOutBounce:function(e,c,g,d,f){return c<f/2?a.easing.easeInBounce(e,c*2,0,d,f)*0.5+g:a.easing.easeOutBounce(e,c*2-f,0,d,f)*0.5+d*0.5+g}})}typeof define==="function"?define(["jquery"],a):a(jQuery)})();(function(a){a.fn.window=function(){var b;if(this.length){b=this[0];if(b.ownerDocument)b=b.ownerDocument;return a(b.defaultView||b.parentWindow)}}})(jQuery);(function(a){function b(){this.regional=[];this.regional[""]={labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,timeSeparator:":",isRTL:!1};this._defaults={until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1};a.extend(this._defaults,
this.regional[""]);this._serverSyncs=[]}function e(c,b){a.extend(c,b);for(var d in b)b[d]==null&&(c[d]=null);return c}a.extend(b.prototype,{markerClassName:"hasCountdown",_timer:setInterval(function(){a.countdown._updateTargets()},980),_timerTargets:[],setDefaults:function(a){this._resetExtraLabels(this._defaults,a);e(this._defaults,a||{})},UTCDate:function(a,b,d,f,e,m,h,k){typeof b=="object"&&b.constructor==Date&&(k=b.getMilliseconds(),h=b.getSeconds(),m=b.getMinutes(),e=b.getHours(),f=b.getDate(),
d=b.getMonth(),b=b.getFullYear());var j=new Date;j.setUTCFullYear(b);j.setUTCDate(1);j.setUTCMonth(d||0);j.setUTCDate(f||1);j.setUTCHours(e||0);j.setUTCMinutes((m||0)-(Math.abs(a)<30?a*60:a));j.setUTCSeconds(h||0);j.setUTCMilliseconds(k||0);return j},periodsToSeconds:function(a){return a[0]*31557600+a[1]*2629800+a[2]*604800+a[3]*86400+a[4]*3600+a[5]*60+a[6]},_settingsCountdown:function(c,b){if(!b)return a.countdown._defaults;var d=a.data(c,"countdown");return b=="all"?d.options:d.options[b]},_attachCountdown:function(c,
b){var d=a(c);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName),d={options:a.extend({},b),_periods:[0,0,0,0,0,0,0]},a.data(c,"countdown",d),this._changeCountdown(c))},_addTarget:function(a){this._hasTarget(a)||this._timerTargets.push(a)},_hasTarget:function(c){return a.inArray(c,this._timerTargets)>-1},_removeTarget:function(c){this._timerTargets=a.map(this._timerTargets,function(a){return a==c?null:a})},_updateTargets:function(){for(var a=this._timerTargets.length-1;a>=0;a--)this._updateCountdown(this._timerTargets[a])},
_updateCountdown:function(c,b){var d=a(c);if(b=b||a.data(c,"countdown")){d.html(this._generateHTML(b));d[(this._get(b,"isRTL")?"add":"remove")+"Class"]("countdown_rtl");if(d=this._get(b,"onTick")){var f=b._hold!="lap"?b._periods:this._calculatePeriods(b,b._show,this._get(b,"significant"),new Date),e=this._get(b,"tickInterval");(e==1||this.periodsToSeconds(f)%e==0)&&d.apply(c,[f])}if(b._hold!="pause"&&(b._since?b._now.getTime()<b._since.getTime():b._now.getTime()>=b._until.getTime())&&!b._expiring){b._expiring=
!0;if(this._hasTarget(c)||this._get(b,"alwaysExpire")){this._removeTarget(c);(d=this._get(b,"onExpiry"))&&d.apply(c,[]);if(d=this._get(b,"expiryText"))f=this._get(b,"layout"),b.options.layout=d,this._updateCountdown(c,b),b.options.layout=f;if(d=this._get(b,"expiryUrl"))window.location=d}b._expiring=!1}else b._hold=="pause"&&this._removeTarget(c);a.data(c,"countdown",b)}},_changeCountdown:function(c,b,d){b=b||{};if(typeof b=="string"){var f=b,b={};b[f]=d}if(d=a.data(c,"countdown"))this._resetExtraLabels(d.options,
b),e(d.options,b),this._adjustSettings(c,d),a.data(c,"countdown",d),b=new Date,(d._since&&d._since<b||d._until&&d._until>b)&&this._addTarget(c),this._updateCountdown(c,d)},_resetExtraLabels:function(a,b){var d=!1,f;for(f in b)if(f!="whichLabels"&&f.match(/[Ll]abels/)){d=!0;break}if(d)for(f in a)f.match(/[Ll]abels[0-9]/)&&(a[f]=null)},_adjustSettings:function(a,b){var d,f=this._get(b,"serverSync"),e=0;d=null;for(e=0;e<this._serverSyncs.length;e++)if(this._serverSyncs[e][0]==f){d=this._serverSyncs[e][1];
break}d!=null?(e=f?d:0,d=new Date):(e=f?f.apply(a,[]):null,d=new Date,e=e?d.getTime()-e.getTime():0,this._serverSyncs.push([f,e]));f=this._get(b,"timezone");f=f==null?-d.getTimezoneOffset():f;b._since=this._get(b,"since");if(b._since!=null)b._since=this.UTCDate(f,this._determineTime(b._since,null)),b._since&&e&&b._since.setMilliseconds(b._since.getMilliseconds()+e);b._until=this.UTCDate(f,this._determineTime(this._get(b,"until"),d));e&&b._until.setMilliseconds(b._until.getMilliseconds()+e);b._show=
this._determineShow(b)},_destroyCountdown:function(c){var b=a(c);b.hasClass(this.markerClassName)&&(this._removeTarget(c),b.removeClass(this.markerClassName).empty(),a.removeData(c,"countdown"))},_pauseCountdown:function(a){this._hold(a,"pause")},_lapCountdown:function(a){this._hold(a,"lap")},_resumeCountdown:function(a){this._hold(a,null)},_hold:function(c,b){var d=a.data(c,"countdown");if(d){if(d._hold=="pause"&&!b){d._periods=d._savePeriods;var f=d._since?"-":"+";d[d._since?"_since":"_until"]=
this._determineTime(f+d._periods[0]+"y"+f+d._periods[1]+"o"+f+d._periods[2]+"w"+f+d._periods[3]+"d"+f+d._periods[4]+"h"+f+d._periods[5]+"m"+f+d._periods[6]+"s");this._addTarget(c)}d._hold=b;d._savePeriods=b=="pause"?d._periods:null;a.data(c,"countdown",d);this._updateCountdown(c,d)}},_getTimesCountdown:function(c){c=a.data(c,"countdown");return!c?null:!c._hold?c._periods:this._calculatePeriods(c,c._show,this._get(c,"significant"),new Date)},_get:function(c,b){return c.options[b]!=null?c.options[b]:
a.countdown._defaults[b]},_determineTime:function(c,b){var d=function(a){var c=new Date;c.setTime(c.getTime()+a*1E3);return c};(d=c==null?b:typeof c=="string"?function(c){for(var c=c.toLowerCase(),b=new Date,d=b.getFullYear(),e=b.getMonth(),g=b.getDate(),j=b.getHours(),l=b.getMinutes(),b=b.getSeconds(),n=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,q=n.exec(c);q;){switch(q[2]||"s"){case "s":b+=parseInt(q[1],10);break;case "m":l+=parseInt(q[1],10);break;case "h":j+=parseInt(q[1],10);break;case "d":g+=parseInt(q[1],
10);break;case "w":g+=parseInt(q[1],10)*7;break;case "o":e+=parseInt(q[1],10);g=Math.min(g,a.countdown._getDaysInMonth(d,e));break;case "y":d+=parseInt(q[1],10),g=Math.min(g,a.countdown._getDaysInMonth(d,e))}q=n.exec(c)}return new Date(d,e,g,j,l,b,0)}(c):typeof c=="number"?d(c):c)&&d.setMilliseconds(0);return d},_getDaysInMonth:function(a,b){return 32-(new Date(a,b,32)).getDate()},_normalLabels:function(a){return a},_generateHTML:function(c){var b=this._get(c,"significant");c._periods=c._hold?c._periods:
this._calculatePeriods(c,c._show,b,new Date);for(var d=!1,e=0,i=b,m=a.extend({},c._show),h=0;h<=6;h++)d|=c._show[h]=="?"&&c._periods[h]>0,m[h]=c._show[h]=="?"&&!d?null:c._show[h],e+=m[h]?1:0,i-=c._periods[h]>0?1:0;for(var k=[!1,!1,!1,!1,!1,!1,!1],h=6;h>=0;h--)c._show[h]&&(c._periods[h]?k[h]=!0:(k[h]=i>0,i--));var d=this._get(c,"compact"),i=this._get(c,"layout"),j=d?this._get(c,"compactLabels"):this._get(c,"labels"),l=this._get(c,"whichLabels")||this._normalLabels,h=this._get(c,"timeSeparator"),n=
this._get(c,"description")||"",q=function(b){var d=a.countdown._get(c,"compactLabels"+l(c._periods[b]));return m[b]?c._periods[b]+(d?d[b]:j[b])+" ":""},o=function(d){var e=a.countdown._get(c,"labels"+l(c._periods[d]));return!b&&m[d]||b&&k[d]?'<span class="countdown_section"><span class="countdown_amount">'+c._periods[d]+"</span><br/>"+(e?e[d]:j[d])+"</span>":""};return i?this._buildLayout(c,m,i,d,b,k):(d?'<span class="countdown_row countdown_amount'+(c._hold?" countdown_holding":"")+'">'+q(0)+q(1)+
q(2)+q(3)+(m[4]?this._minDigits(c._periods[4],2):"")+(m[5]?(m[4]?h:"")+this._minDigits(c._periods[5],2):"")+(m[6]?(m[4]||m[5]?h:"")+this._minDigits(c._periods[6],2):""):'<span class="countdown_row countdown_show'+(b||e)+(c._hold?" countdown_holding":"")+'">'+o(0)+o(1)+o(2)+o(3)+o(4)+o(5)+o(6))+"</span>"+(n?'<span class="countdown_row countdown_descr">'+n+"</span>":"")},_buildLayout:function(c,b,d,e,i,m){for(var h=this._get(c,e?"compactLabels":"labels"),k=this._get(c,"whichLabels")||this._normalLabels,
j=function(b){return(a.countdown._get(c,(e?"compactLabels":"labels")+k(c._periods[b]))||h)[b]},l=function(a,c){return Math.floor(a/c)%10},j={desc:this._get(c,"description"),sep:this._get(c,"timeSeparator"),yl:j(0),yn:c._periods[0],ynn:this._minDigits(c._periods[0],2),ynnn:this._minDigits(c._periods[0],3),y1:l(c._periods[0],1),y10:l(c._periods[0],10),y100:l(c._periods[0],100),y1000:l(c._periods[0],1E3),ol:j(1),on:c._periods[1],onn:this._minDigits(c._periods[1],2),onnn:this._minDigits(c._periods[1],
3),o1:l(c._periods[1],1),o10:l(c._periods[1],10),o100:l(c._periods[1],100),o1000:l(c._periods[1],1E3),wl:j(2),wn:c._periods[2],wnn:this._minDigits(c._periods[2],2),wnnn:this._minDigits(c._periods[2],3),w1:l(c._periods[2],1),w10:l(c._periods[2],10),w100:l(c._periods[2],100),w1000:l(c._periods[2],1E3),dl:j(3),dn:c._periods[3],dnn:this._minDigits(c._periods[3],2),dnnn:this._minDigits(c._periods[3],3),d1:l(c._periods[3],1),d10:l(c._periods[3],10),d100:l(c._periods[3],100),d1000:l(c._periods[3],1E3),hl:j(4),
hn:c._periods[4],hnn:this._minDigits(c._periods[4],2),hnnn:this._minDigits(c._periods[4],3),h1:l(c._periods[4],1),h10:l(c._periods[4],10),h100:l(c._periods[4],100),h1000:l(c._periods[4],1E3),ml:j(5),mn:c._periods[5],mnn:this._minDigits(c._periods[5],2),mnnn:this._minDigits(c._periods[5],3),m1:l(c._periods[5],1),m10:l(c._periods[5],10),m100:l(c._periods[5],100),m1000:l(c._periods[5],1E3),sl:j(6),sn:c._periods[6],snn:this._minDigits(c._periods[6],2),snnn:this._minDigits(c._periods[6],3),s1:l(c._periods[6],
1),s10:l(c._periods[6],10),s100:l(c._periods[6],100),s1000:l(c._periods[6],1E3)},n=d,d=0;d<=6;d++)l="yowdhms".charAt(d),n=n.replace(RegExp("\\{"+l+"<\\}(.*)\\{"+l+">\\}","g"),!i&&b[d]||i&&m[d]?"$1":"");a.each(j,function(a,c){n=n.replace(RegExp("\\{"+a+"\\}","g"),c)});return n},_minDigits:function(a,b){a=""+a;if(a.length>=b)return a;a="0000000000"+a;return a.substr(a.length-b)},_determineShow:function(a){var a=this._get(a,"format"),b=[];b[0]=a.match("y")?"?":a.match("Y")?"!":null;b[1]=a.match("o")?
"?":a.match("O")?"!":null;b[2]=a.match("w")?"?":a.match("W")?"!":null;b[3]=a.match("d")?"?":a.match("D")?"!":null;b[4]=a.match("h")?"?":a.match("H")?"!":null;b[5]=a.match("m")?"?":a.match("M")?"!":null;b[6]=a.match("s")?"?":a.match("S")?"!":null;return b},_calculatePeriods:function(b,e,d,f){b._now=f;b._now.setMilliseconds(0);var i=new Date(b._now.getTime());if(b._since)f.getTime()<b._since.getTime()?b._now=f=i:f=b._since;else if(i.setTime(b._until.getTime()),f.getTime()>b._until.getTime())b._now=
f=i;var m=[0,0,0,0,0,0,0];if(e[0]||e[1]){var h=a.countdown._getDaysInMonth(f.getFullYear(),f.getMonth()),k=a.countdown._getDaysInMonth(i.getFullYear(),i.getMonth()),k=i.getDate()==f.getDate()||i.getDate()>=Math.min(h,k)&&f.getDate()>=Math.min(h,k),k=Math.max(0,(i.getFullYear()-f.getFullYear())*12+i.getMonth()-f.getMonth()+(i.getDate()<f.getDate()&&!k||k&&(i.getHours()*60+i.getMinutes())*60+i.getSeconds()<(f.getHours()*60+f.getMinutes())*60+f.getSeconds()?-1:0));m[0]=e[0]?Math.floor(k/12):0;m[1]=e[1]?
k-m[0]*12:0;f=new Date(f.getTime());h=f.getDate()==h;k=a.countdown._getDaysInMonth(f.getFullYear()+m[0],f.getMonth()+m[1]);f.getDate()>k&&f.setDate(k);f.setFullYear(f.getFullYear()+m[0]);f.setMonth(f.getMonth()+m[1]);h&&f.setDate(k)}var j=Math.floor((i.getTime()-f.getTime())/1E3),f=function(a,b){m[a]=e[a]?Math.floor(j/b):0;j-=m[a]*b};f(2,604800);f(3,86400);f(4,3600);f(5,60);f(6,1);if(j>0&&!b._since){b=[1,12,4.3482,7,24,60,60];f=6;i=1;for(h=6;h>=0;h--)e[h]&&(m[f]>=i&&(m[f]=0,j=1),j>0&&(m[h]++,j=0,
f=h,i=1)),i*=b[h]}if(d)for(h=0;h<=6;h++)d&&m[h]?d--:d||(m[h]=0);return m}});a.fn.countdown=function(b){var e=Array.prototype.slice.call(arguments,1);return b=="getTimes"||b=="settings"?a.countdown["_"+b+"Countdown"].apply(a.countdown,[this[0]].concat(e)):this.each(function(){typeof b=="string"?a.countdown["_"+b+"Countdown"].apply(a.countdown,[this].concat(e)):a.countdown._attachCountdown(this,b)})};a.countdown=new b})(jQuery);(function(a,b){function e(a,b){this._d=a;this._isUTC=!!b}function c(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c}function g(b,c,d,r){var u=typeof c==="string",t=u?{}:c;u&&r&&(t[c]=+r);c=(t.ms||t.milliseconds||0)+(t.s||t.seconds||0)*1E3+(t.m||t.minutes||0)*6E4+(t.h||t.hours||0)*36E5;r=(t.d||t.days||0)+(t.w||t.weeks||0)*7;t=(t.M||t.months||0)+(t.y||t.years||0)*12;c&&b.setTime(+b+c*d);r&&b.setDate(b.getDate()+r*d);t&&(c=b.getDate(),b.setDate(1),b.setMonth(b.getMonth()+t*d),b.setDate(Math.min((new a(b.getFullYear(),
b.getMonth()+1,0)).getDate(),c)));return b}function d(a){return Object.prototype.toString.call(a)==="[object Array]"}function f(b){return new a(b[0],b[1]||0,b[2]||1,b[3]||0,b[4]||0,b[5]||0,b[6]||0)}function i(b,d){function e(d){var s;switch(d){case "M":return r+1;case "Mo":return r+1+m(r+1);case "MM":return c(r+1,2);case "MMM":return j.monthsShort[r];case "MMMM":return j.months[r];case "D":return u;case "Do":return u+m(u);case "DD":return c(u,2);case "DDD":return d=new a(t,r,u),s=new a(t,0,1),~~((d-
s)/864E5+1.5);case "DDDo":return d=e("DDD"),d+m(d);case "DDDD":return c(e("DDD"),3);case "d":return f;case "do":return f+m(f);case "ddd":return j.weekdaysShort[f];case "dddd":return j.weekdays[f];case "w":return d=new a(t,r,u-f+5),s=new a(d.getFullYear(),0,4),~~((d-s)/864E5/7+1.5);case "wo":return d=e("w"),d+m(d);case "ww":return c(e("w"),2);case "YY":return c(t%100,2);case "YYYY":return t;case "a":return g>11?Q.pm:Q.am;case "A":return g>11?Q.PM:Q.AM;case "H":return g;case "HH":return c(g,2);case "h":return g%
12||12;case "hh":return c(g%12||12,2);case "m":return h;case "mm":return c(h,2);case "s":return k;case "ss":return c(k,2);case "zz":case "z":return(b._d.toString().match(B)||[""])[0].replace(D,"");case "Z":return(l<0?"-":"+")+c(~~(Math.abs(l)/60),2)+":"+c(~~(Math.abs(l)%60),2);case "ZZ":return(l<0?"-":"+")+c(~~(10*Math.abs(l)/6),4);case "L":case "LL":case "LLL":case "LLLL":case "LT":return i(b,j.longDateFormat[d]);default:return d.replace(/(^\[)|(\\)|\]$/g,"")}}var r=b.month(),u=b.date(),t=b.year(),
f=b.day(),g=b.hours(),h=b.minutes(),k=b.seconds(),l=-b.zone(),m=j.ordinal,Q=j.meridiem;return d.replace(L,e)}function m(b,c){function d(a,b){var c;switch(a){case "M":case "MM":r[1]=~~b-1;break;case "MMM":case "MMMM":for(c=0;c<12;c++)if(j.monthsParse[c].test(b)){r[1]=c;break}break;case "D":case "DD":case "DDD":case "DDDD":r[2]=~~b;break;case "YY":b=~~b;r[0]=b+(b>70?1900:2E3);break;case "YYYY":r[0]=~~Math.abs(b);break;case "a":case "A":l=b.toLowerCase()==="pm";break;case "H":case "HH":case "h":case "hh":r[3]=
~~b;break;case "m":case "mm":r[4]=~~b;break;case "s":case "ss":r[5]=~~b;break;case "Z":case "ZZ":e=!0,(c=(b||"").match(P))&&c[1]&&(u=~~c[1]),c&&c[2]&&(t=~~c[2]),c&&c[0]==="+"&&(u=-u,t=-t)}}var r=[0,0,1,0,0,0,0],u=0,t=0,e=!1,g=b.match(G),h=c.match(O),i=Math.min(g.length,h.length),k,l;for(k=0;k<i;k++)d(h[k],g[k]);l&&r[3]<12&&(r[3]+=12);l===!1&&r[3]===12&&(r[3]=0);r[3]+=u;r[4]+=t;return e?new a(a.UTC.apply({},r)):f(r)}function h(a,b,c){var r=j.relativeTime[a];return typeof r==="function"?r(b||1,!!c,
a):r.replace(/%d/i,b||1)}function k(a,b){j.fn[a]=function(a){var c=this._isUTC?"UTC":"";return a!=null?(this._d["set"+c+b](a),this):this._d["get"+c+b]()}}var j,l=Math.round,n={},q=typeof module!=="undefined",o="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),p,z=/^\/?Date\((\-?\d+)/i,L=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|zz?|ZZ?|LT|LL?L?L?)/g,D=/[^A-Z]/g,B=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,
O=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,G=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,M=/\d{4}.\d\d.\d\d(T(\d\d(.\d\d(.\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,J=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],P=/([\+\-]|\d\d)/gi,v="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");j=function(c,g){if(c===null||c==="")return null;var h;if(c&&c._d instanceof a)h=new a(+c._d);else if(g)if(d(g)){var r=c.match(G),
u=99,t,R,H;for(t=0;t<g.length;t++){R=m(c,g[t]);H=i(new e(R),g[t]).match(G);for(var j=Math.min(r.length,H.length),k=Math.abs(r.length-H.length),l=0,N=void 0,N=0;N<j;N++)~~r[N]!==~~H[N]&&l++;H=l+k;H<u&&(u=H,h=R)}}else h=m(c,g);else if(h=z.exec(c),c===b)h=new a;else if(h)h=new a(+h[1]);else if(c instanceof a)h=c;else if(d(c))h=f(c);else if(typeof c==="string")if(h="YYYY-MM-DDT",M.exec(c)){for(r=0;r<3;r++)if(J[r][1].exec(c)){h+=J[r][0];break}h=m(c,h+"Z")}else h=new a(c);else h=new a(c);return new e(h)};
j.utc=function(b,c){return d(b)?new e(new a(a.UTC.apply({},b)),!0):c&&b?j(b+" 0",c+" Z").utc():j(b).utc()};j.humanizeDuration=function(a,b,c){var a=+a,d=j.relativeTime;switch(b){case "seconds":a*=1E3;break;case "minutes":a*=6E4;break;case "hours":a*=36E5;break;case "days":a*=864E5;break;case "weeks":a*=6048E5;break;case "months":a*=2592E6;break;case "years":a*=31536E6;break;default:c=!!b}var b=!c,u=l(Math.abs(a)/1E3),t=l(u/60),e=l(t/60),f=l(e/24),g=l(f/365),u=u<45&&["s",u]||t===1&&["m"]||t<45&&["mm",
t]||e===1&&["h"]||e<22&&["hh",e]||f===1&&["d"]||f<=25&&["dd",f]||f<=45&&["M"]||f<345&&["MM",l(f/30)]||g===1&&["y"]||["yy",g];u[2]=b;b=h.apply({},u);return c?(a<=0?d.past:d.future).replace(/%s/i,b):b};j.version="1.5.0";j.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";j.lang=function(a,b){var c,d;d=[];if(b){for(c=0;c<12;c++)d[c]=RegExp("^"+b.months[c]+"|^"+b.monthsShort[c].replace(".",""),"i");b.monthsParse=b.monthsParse||d;n[a]=b}if(n[a])for(c=0;c<o.length;c++)d=o[c],j[d]=n[a][d]||j[d];else q&&(c=require("./lang/"+
a),j.lang(a,c))};j.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:{AM:"AM",am:"am",PM:"PM",pm:"pm"},calendar:{sameDay:"[Today at] LT",
nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(a){var b=a%10;return~~(a%100/10)===1?"th":b===1?"st":b===2?"nd":b===3?"rd":"th"}});j.isMoment=function(a){return a instanceof e};j.fn=e.prototype={clone:function(){return j(this)},
valueOf:function(){return+this._d},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){this._isUTC=!0;return this},local:function(){this._isUTC=!1;return this},format:function(a){return i(this,a?a:j.defaultFormat)},add:function(a,b){this._d=g(this._d,a,1,b);return this},subtract:function(a,b){this._d=g(this._d,a,-1,b);return this},diff:function(a,b,c){var a=j(a),d=(this.zone()-a.zone())*6E4,d=this._d-a._d-d,u=this.year()-
a.year(),t=this.month()-a.month(),a=this.date()-a.date(),b=b==="months"?u*12+t+a/30:b==="years"?u+t/12:b==="seconds"?d/1E3:b==="minutes"?d/6E4:b==="hours"?d/36E5:b==="days"?d/864E5:b==="weeks"?d/6048E5:d;return c?b:l(b)},from:function(a,b){return j.humanizeDuration(this.diff(a),!b)},fromNow:function(a){return this.from(j(),a)},calendar:function(){var a=this.diff(j().sod(),"days",!0),b=j.calendar,c=b.sameElse,a=a<-6?c:a<-1?b.lastWeek:a<0?b.lastDay:a<1?b.sameDay:a<2?b.nextDay:a<7?b.nextWeek:c;return this.format(typeof a===
"function"?a.apply(this):a)},isLeapYear:function(){var a=this.year();return a%4===0&&a%100!==0||a%400===0},isDST:function(){return this.zone()<j([this.year()]).zone()||this.zone()<j([this.year(),5]).zone()},day:function(a){var b=this._d.getDay();return a==null?b:this.add({d:a-b})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+
1).date(0).date()}};for(p=0;p<v.length;p++)k(v[p].toLowerCase(),v[p]);k("year","FullYear");if(q)module.exports=j;if(typeof window!=="undefined")window.moment=j;typeof define==="function"&&define.amd&&define("moment",[],function(){return j})})(Date);(function(a){typeof define==="function"&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){var b={},e,c,g,d,f,i,m,h,k,j,l,n,q,o,p,z,L,D,B,O,G,M,J,P,v,F,s,S=0;e=function(){var b,c;b=function(){this.init.apply(this,arguments)};arguments.length>1?(arguments[0]?(b.prototype=a.extend(new arguments[0],arguments[arguments.length-1]),b._super=arguments[0].prototype):b.prototype=arguments[arguments.length-1],arguments.length>2&&(c=Array.prototype.slice.call(arguments,1,-1),c.unshift(b.prototype),a.extend.apply(a,
c))):b.prototype=arguments[0];return b.prototype.cls=b};a.SPFormatClass=c=e({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a;this.fclass=b},render:function(a,b,c){var d=this,e,f,g,i,j;return this.format.replace(this.fre,function(k,l,m,q){f=l;g=q;(e=d.precre.exec(f))?(j=e[2],f=e[1]):j=!1;i=a[f];if(i===void 0)return"";if(g&&b&&b[g])return k=b[g],k.get?b[g].get(i)||i:b[g][i]||i;h(i)&&(i=c.get("numberFormatter")?c.get("numberFormatter")(i):n(i,j,c.get("numberDigitGroupCount"),
c.get("numberDigitGroupSep"),c.get("numberDecimalMark")));return i})}});a.spformat=function(a,b){return new c(a,b)};g=function(a,b,c){return a<b?b:a>c?c:a};d=function(a,b){var c;return b===2?(c=Math.floor(a.length/2),a.length%2?a[c]:(a[c-1]+a[c])/2):(c=a.length%2?(a.length*b+b)/4:(a.length*b+2)/4,c%1?(a[Math.floor(c)]+a[Math.floor(c)-1])/2:a[c-1])};f=function(a){var b;switch(a){case "undefined":a=void 0;break;case "null":a=null;break;case "true":a=!0;break;case "false":a=!1;break;default:b=parseFloat(a),
a==b&&(a=b)}return a};i=function(a){var b,c=[];for(b=a.length;b--;)c[b]=f(a[b]);return c};m=function(a,b){var c,d,e=[];c=0;for(d=a.length;c<d;c++)a[c]!==b&&e.push(a[c]);return e};h=function(a){return!isNaN(parseFloat(a))&&isFinite(a)};n=function(b,c,d,e,f){var g,b=(c===!1?parseFloat(b).toString():b.toFixed(c)).split("");g=(g=a.inArray(".",b))<0?b.length:g;g<b.length&&(b[g]=f);for(c=g-d;c>0;c-=d)b.splice(c,0,e);return b.join("")};k=function(a,b,c){var d;for(d=b.length;d--;)if(!(c&&b[d]===null)&&b[d]!==
a)return!1;return!0};l=function(b){return a.isArray(b)?b:[b]};j=function(a){var b;document.createStyleSheet?document.createStyleSheet().cssText=a:(b=document.createElement("style"),b.type="text/css",document.getElementsByTagName("head")[0].appendChild(b),b[typeof document.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=a)};a.fn.simpledraw=function(b,c,d,e){var f;if(d&&(f=this.data("_jqs_vcanvas")))return f;b===void 0&&(b=a(this).innerWidth());c===void 0&&(c=a(this).innerHeight());if(a.browser.hasCanvas)f=
new v(b,c,this,e);else if(a.browser.msie)f=new F(b,c,this);else return!1;(b=a(this).data("_jqs_mhandler"))&&b.registerCanvas(f);return f};a.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()};a.RangeMapClass=q=e({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&typeof b==="string"&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=c[0].length===0?-Infinity:parseFloat(c[0]),c[1]=c[1].length===0?Infinity:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a;this.rangelist=d||!1},get:function(a){var b=
this.rangelist,c,d;if((c=this.map[a])!==void 0)return c;if(b)for(c=b.length;c--;)if(d=b[c],d[0]<=a&&d[1]>=a)return d[2]}});a.range_map=function(a){return new q(a)};o=e({init:function(b,c){this.$el=a(b);this.options=c;this.currentPageY=this.currentPageX=0;this.el=b;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!c.get("disableTooltips");this.highlightEnabled=!c.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a);this.over&&this.updateDisplay()},registerCanvas:function(b){var c=
a(b.canvas);this.canvas=b;this.$canvas=c;c.mouseenter(a.proxy(this.mouseenter,this));c.mouseleave(a.proxy(this.mouseleave,this));c.click(a.proxy(this.mouseclick,this))},reset:function(a){this.splist=[];if(this.tooltip&&a)this.tooltip.remove(),this.tooltip=void 0},mouseclick:function(b){var c=a.Event("sparklineClick");c.originalEvent=b;c.sparklines=this.splist;this.$el.trigger(c)},mouseenter:function(b){a(document.body).unbind("mousemove.jqs");a(document.body).bind("mousemove.jqs",a.proxy(this.mousemove,
this));this.over=!0;this.currentPageX=b.pageX;this.currentPageY=b.pageY;this.currentEl=b.target;if(!this.tooltip&&this.displayTooltips)this.tooltip=new p(this.options),this.tooltip.updatePosition(b.pageX,b.pageY);this.updateDisplay()},mouseleave:function(){a(document.body).unbind("mousemove.jqs");var b=this.splist,c=b.length,d=!1,e,f;this.over=!1;this.currentEl=null;if(this.tooltip)this.tooltip.remove(),this.tooltip=null;for(f=0;f<c;f++)e=b[f],e.clearRegionHighlight()&&(d=!0);d&&this.canvas.render()},
mousemove:function(a){this.currentPageX=a.pageX;this.currentPageY=a.pageY;this.currentEl=a.target;this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY);this.updateDisplay()},updateDisplay:function(){var b=this.splist,c=b.length,d=!1,e=this.$canvas.offset(),f=this.currentPageX-e.left,g=this.currentPageY-e.top,h,i;if(this.over){for(h=0;h<c;h++)e=b[h],(i=e.setRegionHighlight(this.currentEl,f,g))&&(d=!0);if(d){d=a.Event("sparklineRegionChange");d.sparklines=this.splist;this.$el.trigger(d);if(this.tooltip){d=
"";for(h=0;h<c;h++)e=b[h],d+=e.getCurrentRegionTooltip();this.tooltip.setContent(d)}this.disableHighlight||this.canvas.render()}i===null&&this.mouseleave()}}});p=e({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c=b.get("tooltipClassname","jqstooltip"),d=this.sizeStyle;this.container=b.get("tooltipContainer")||document.body;this.tooltipOffsetX=b.get("tooltipOffsetX",10);this.tooltipOffsetY=b.get("tooltipOffsetY",
12);a("#jqssizetip").remove();a("#jqstooltip").remove();this.sizetip=a("<div/>",{id:"jqssizetip",style:d,"class":c});this.tooltip=a("<div/>",{id:"jqstooltip","class":c}).appendTo(this.container);b=this.tooltip.offset();this.offsetLeft=b.left;this.offsetTop=b.top;this.hidden=!0;a(window).unbind("resize.jqs scroll.jqs");a(window).bind("resize.jqs scroll.jqs",a.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=a(window).scrollTop();this.scrollLeft=
a(window).scrollLeft();this.scrollRight=this.scrollLeft+a(window).width();this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(a){if(a){if(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden)this.hidden=!1,this.updatePosition()}else this.tooltip.css("visibility","hidden"),this.hidden=!0},updatePosition:function(a,
b){if(a===void 0){if(this.mousex===void 0)return;a=this.mousex-this.offsetLeft;b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;if(this.height&&this.width&&!this.hidden){b-=this.height+this.tooltipOffsetY;a+=this.tooltipOffsetX;if(b<this.scrollTop)b=this.scrollTop;a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width);this.tooltip.css({left:a,top:b})}},remove:function(){this.tooltip.remove();this.sizetip.remove();
this.sizetip=this.tooltip=void 0;a(window).unbind("resize.jqs scroll.jqs")}});a(function(){j('.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}')});
s=[];a.fn.sparkline=function(b,c){return this.each(function(){var d=new a.fn.sparkline.options(this,c),e=a(this),f,g;f=function(){var c,f,g,u;if(b==="html"||b===void 0){c=this.getAttribute(d.get("tagValuesAttribute"));if(c===void 0||c===null)c=e.html();c=c.replace(/(^\s*<\!--)|(--\>\s*$)|\s+/g,"").split(",")}else c=b;f=d.get("width")==="auto"?c.length*d.get("defaultPixelsPerValue"):d.get("width");if(d.get("height")==="auto"){if(!d.get("composite")||!a.data(this,"_jqs_vcanvas"))u=document.createElement("span"),
u.innerHTML="a",e.html(u),g=a(u).innerHeight()||a(u).height(),a(u).remove()}else g=d.get("height");d.get("disableInteraction")?u=!1:(u=a.data(this,"_jqs_mhandler"))?d.get("composite")||u.reset():(u=new o(this,d),a.data(this,"_jqs_mhandler",u));d.get("composite")&&!a.data(this,"_jqs_vcanvas")?a.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),a.data(this,"_jqs_errnotify",!0)):(g=new (a.fn.sparkline[d.get("type")])(this,c,d,f,
g),g.render(),u&&u.registerSparkline(g))};if(a(this).html()&&!d.get("disableHiddenCheck")&&a(this).is(":hidden")||a.fn.jquery<"1.3.0"&&a(this).parents().is(":hidden")||!a(this).parents("body").length){if(!d.get("composite")&&a.data(this,"_jqs_pending"))for(g=s.length;g;g--)s[g-1][0]==this&&s.splice(g-1,1);s.push([this,f]);a.data(this,"_jqs_pending",!0)}else f.call(this)})};a.fn.sparkline.defaults={common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",
composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:void 0,normalRangeMax:void 0,
normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:void 0,chartRangeMax:void 0,chartRangeMinX:void 0,chartRangeMaxX:void 0,tooltipFormat:new c('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:void 0,nullColor:void 0,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,colorMap:void 0,
tooltipFormat:new c('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new c('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:void 0,thresholdValue:0,chartRangeMax:void 0,chartRangeMin:void 0,chartRangeClip:!1,tooltipFormat:new c("{{prefix}}{{value}}{{suffix}}")},
bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:void 0,tooltipFormat:new c("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new c('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",
boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:void 0,targetColor:"#4a2",chartRangeMax:void 0,chartRangeMin:void 0,tooltipFormat:new c("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}};a.sparkline_display_visible=
function(){var b,c,d,e=[];c=0;for(d=s.length;c<d;c++)b=s[c][0],a(b).is(":visible")&&!a(b).parents().is(":hidden")?(s[c][1].call(b),a.data(s[c][0],"_jqs_pending",!1),e.push(c)):!a(b).closest("html").length&&!a.data(b,"_jqs_pending")&&(a.data(s[c][0],"_jqs_pending",!1),e.push(c));for(c=e.length;c;c--)s.splice(e[c-1],1)};a.fn.sparkline.options=e({init:function(c,d){var e,f,g;this.userOptions=d=d||{};this.tag=c;this.tagValCache={};e=a.fn.sparkline.defaults;f=e.common;this.tagOptionsPrefix=d.enableTagOptions&&
(d.tagOptionsPrefix||f.tagOptionsPrefix);g=this.getTagSetting("type");this.mergedOptions=a.extend({},f,g===b?e[d.type||f.type]:e[g],d)},getTagSetting:function(a){var c=this.tagOptionsPrefix,d,e;if(c===!1||c===void 0)return b;if(this.tagValCache.hasOwnProperty(a))a=this.tagValCache.key;else{a=this.tag.getAttribute(c+a);if(a===void 0||a===null)a=b;else if(a.substr(0,1)==="["){a=a.substr(1,a.length-2).split(",");for(c=a.length;c--;)a[c]=f(a[c].replace(/(^\s*)|(\s*$)/g,""))}else if(a.substr(0,1)==="{"){d=
a.substr(1,a.length-2).split(",");a={};for(c=d.length;c--;)e=d[c].split(":",2),a[e[0].replace(/(^\s*)|(\s*$)/g,"")]=f(e[1].replace(/(^\s*)|(\s*$)/g,""))}else a=f(a);this.tagValCache.key=a}return a},get:function(a,c){var d=this.getTagSetting(a),e;return d!==b?d:(e=this.mergedOptions[a])===void 0?c:e}});a.fn.sparkline._base=e({disabled:!1,init:function(b,c,d,e,f){this.el=b;this.$el=a(b);this.values=c;this.options=d;this.width=e;this.height=f;this.currentRegion=void 0},initTarget:function(){var a=!this.options.get("disableInteraction");
(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(a,b,c){var d=this.currentRegion,e=!this.options.get("disableHighlight");if(b>this.canvasWidth||c>this.canvasHeight||b<0||c<0)return null;a=this.getRegion(a,b,c);return d!==a?(d!==void 0&&e&&
this.removeHighlight(),this.currentRegion=a,a!==void 0&&e&&this.renderHighlight(),!0):!1},clearRegionHighlight:function(){return this.currentRegion!==void 0?(this.removeHighlight(),this.currentRegion=void 0,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var b=this.options,d="",e=[],f,g,h,i,j,k,l,m,n;if(this.currentRegion===void 0)return"";f=this.getCurrentRegionFields();
if(g=b.get("tooltipFormatter"))return g(this,b,f);b.get("tooltipChartTitle")&&(d+='<div class="jqs jqstitle">'+b.get("tooltipChartTitle")+"</div>\n");g=this.options.get("tooltipFormat");if(!g)return"";a.isArray(g)||(g=[g]);a.isArray(f)||(f=[f]);h=this.options.get("tooltipFormatFieldlist");i=this.options.get("tooltipFormatFieldlistKey");if(h&&i){j=[];for(k=f.length;k--;)if(l=f[k][i],(l=a.inArray(l,h))!=-1)j[l]=f[k];f=j}h=g.length;n=f.length;for(k=0;k<h;k++){m=g[k];typeof m==="string"&&(m=new c(m));
i=m.fclass||"jqsfield";for(l=0;l<n;l++)if(!f[l].isNull||!b.get("tooltipSkipNull"))a.extend(f[l],{prefix:b.get("tooltipPrefix"),suffix:b.get("tooltipSuffix")}),j=m.render(f[l],b.get("tooltipValueLookups"),b),e.push('<div class="'+i+'">'+j+"</div>")}return e.length?d+e.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,b){var c=b.get("highlightColor"),d=b.get("highlightLighten"),e,f,h;if(c)return c;if(d&&(c=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){f=
[];e=a.length===4?16:1;for(h=0;h<3;h++)f[h]=g(Math.round(parseInt(c[h+1],16)*e*d),0,255);return"rgb("+f.join(",")+")"}return a}});z={changeHighlight:function(b){var c=this.currentRegion,d=this.target,e=this.regionShapes[c];if(e)b=this.renderRegion(c,b),a.isArray(b)||a.isArray(e)?(d.replaceWithShapes(e,b),this.regionShapes[c]=a.map(b,function(a){return a.id})):(d.replaceWithShape(e,b),this.regionShapes[c]=b.id)},render:function(){var b=this.values,c=this.target,d=this.regionShapes,e,f,g;if(this.cls._super.render.call(this)){for(f=
b.length;f--;)if(b=this.renderRegion(f))if(a.isArray(b)){e=[];for(g=b.length;g--;)b[g].append(),e.push(b[g].id);d[f]=e}else b.append(),d[f]=b.id;else d[f]=null;c.render()}}};a.fn.sparkline.line=L=e(a.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){L._super.init.call(this,a,b,c,d,e);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.lastShapeId=this.hightlightSpotId=null;this.initTarget()},getRegion:function(a,b){var c,d=this.regionMap;for(c=d.length;c--;)if(d[c]!==
null&&b>=d[c][0]&&b<=d[c][1])return d[c][2]},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.yvalues[a]===null,x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a=this.target,b=this.vertices[this.currentRegion],c=this.options,d=c.get("spotRadius"),e=c.get("highlightSpotColor"),c=c.get("highlightLineColor");if(b){if(d&&e)d=a.drawCircle(b[0],b[1],d,void 0,e),this.highlightSpotId=
d.id,a.insertAfterShape(this.lastShapeId,d);if(c)b=a.drawLine(b[0],this.canvasTop,b[0],this.canvasTop+this.canvasHeight,c),this.highlightLineId=b.id,a.insertAfterShape(this.lastShapeId,b)}},removeHighlight:function(){var a=this.target;if(this.highlightSpotId)a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null;if(this.highlightLineId)a.removeShapeId(this.highlightLineId),this.highlightLineId=null},scanValues:function(){var a=this.values,b=a.length,c=this.xvalues,d=this.yvalues,e=this.yminmax,
f,g,h,i,j;for(f=0;f<b;f++)g=a[f],h=typeof a[f]==="string",i=typeof a[f]==="object"&&a[f]instanceof Array,j=h&&a[f].split(":"),h&&j.length===2?(c.push(Number(j[0])),d.push(Number(j[1])),e.push(Number(j[1]))):i?(c.push(g[0]),d.push(g[1]),e.push(g[1])):(c.push(f),a[f]===null||a[f]==="null"?d.push(null):(d.push(Number(g)),e.push(Number(g))));this.options.get("xvalues")&&(c=this.options.get("xvalues"));this.maxy=this.maxyorg=Math.max.apply(Math,e);this.miny=this.minyorg=Math.min.apply(Math,e);this.maxx=
Math.max.apply(Math,c);this.minx=Math.min.apply(Math,c);this.xvalues=c;this.yvalues=d;this.yminmax=e},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),c=a.get("normalRangeMax");if(b!==void 0){if(b<this.miny)this.miny=b;if(c>this.maxy)this.maxy=c}if(a.get("chartRangeMin")!==void 0&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny))this.miny=a.get("chartRangeMin");if(a.get("chartRangeMax")!==void 0&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy))this.maxy=
a.get("chartRangeMax");if(a.get("chartRangeMinX")!==void 0&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx))this.minx=a.get("chartRangeMinX");if(a.get("chartRangeMaxX")!==void 0&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx))this.maxx=a.get("chartRangeMaxX")},drawNormalRange:function(a,b,c,d,e){var f=this.options.get("normalRangeMin"),g=this.options.get("normalRangeMax");this.target.drawRect(a,b+Math.round(c-c*((g-this.miny)/e)),d,Math.round(c*(g-f)/e),void 0,this.options.get("normalRangeColor")).append()},
render:function(){var b=this.options,c=this.target,d=this.canvasWidth,e=this.canvasHeight,f=this.vertices,g=b.get("spotRadius"),h=this.regionMap,i,j,k,l,m,n,w,o,y,I,p,s,v,A,x;if(L._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),v=this.xvalues,A=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){l=m=0;i=this.maxx-this.minx===0?1:this.maxx-this.minx;j=this.maxy-this.miny===0?1:this.maxy-this.miny;k=this.yvalues.length-1;if(g&&(d<g*4||e<g*4))g=0;if(g){if((s=b.get("highlightSpotColor")&&
!b.get("disableInteraction"))||b.get("minSpotColor")||b.get("spotColor")&&A[k]===this.miny)e-=Math.ceil(g);if(s||b.get("maxSpotColor")||b.get("spotColor")&&A[k]===this.maxy)e-=Math.ceil(g),l+=Math.ceil(g);if(s||(b.get("minSpotColor")||b.get("maxSpotColor"))&&(A[0]===this.miny||A[0]===this.maxy))m+=Math.ceil(g),d-=Math.ceil(g);if(s||b.get("spotColor")||b.get("minSpotColor")||b.get("maxSpotColor")&&(A[k]===this.miny||A[k]===this.maxy))d-=Math.ceil(g)}e--;b.get("normalRangeMin")!==void 0&&!b.get("drawNormalOnTop")&&
this.drawNormalRange(m,l,e,d,j);w=[];o=[w];p=null;s=A.length;for(x=0;x<s;x++)if(y=v[x],I=v[x+1],n=A[x],y=m+Math.round((y-this.minx)*(d/i)),I=x<s-1?m+Math.round((I-this.minx)*(d/i)):d,I=y+(I-y)/2,h[x]=[p||0,I,x],p=I,n===null)x&&(A[x-1]!==null&&(w=[],o.push(w)),f.push(null));else{if(n<this.miny)n=this.miny;if(n>this.maxy)n=this.maxy;w.length||w.push([y,l+e]);n=[y,l+Math.round(e-e*((n-this.miny)/j))];w.push(n);f.push(n)}f=[];h=[];p=o.length;for(x=0;x<p;x++)w=o[x],w.length&&(b.get("fillColor")&&(w.push([w[w.length-
1][0],l+e]),h.push(w.slice(0)),w.pop()),w.length>2&&(w[0]=[w[0][0],w[1][1]]),f.push(w));p=h.length;for(x=0;x<p;x++)c.drawShape(h[x],b.get("fillColor"),b.get("fillColor")).append();b.get("normalRangeMin")!==void 0&&b.get("drawNormalOnTop")&&this.drawNormalRange(m,l,e,d,j);p=f.length;for(x=0;x<p;x++)c.drawShape(f[x],b.get("lineColor"),void 0,b.get("lineWidth")).append();if(g&&b.get("valueSpots")){w=b.get("valueSpots");w.get===void 0&&(w=new q(w));for(x=0;x<s;x++)(o=w.get(A[x]))&&c.drawCircle(m+Math.round((v[x]-
this.minx)*(d/i)),l+Math.round(e-e*((A[x]-this.miny)/j)),g,void 0,o).append()}g&&b.get("spotColor")&&c.drawCircle(m+Math.round((v[v.length-1]-this.minx)*(d/i)),l+Math.round(e-e*((A[k]-this.miny)/j)),g,void 0,b.get("spotColor")).append();this.maxy!==this.minyorg&&(g&&b.get("minSpotColor")&&(y=v[a.inArray(this.minyorg,A)],c.drawCircle(m+Math.round((y-this.minx)*(d/i)),l+Math.round(e-e*((this.minyorg-this.miny)/j)),g,void 0,b.get("minSpotColor")).append()),g&&b.get("maxSpotColor")&&(y=v[a.inArray(this.maxyorg,
A)],c.drawCircle(m+Math.round((y-this.minx)*(d/i)),l+Math.round(e-e*((this.maxyorg-this.miny)/j)),g,void 0,b.get("maxSpotColor")).append()));this.lastShapeId=c.getLastShapeId();this.canvasTop=l;c.render()}}});a.fn.sparkline.bar=D=e(a.fn.sparkline._base,z,{type:"bar",init:function(b,c,d,e,h){var r;var j=parseInt(d.get("barWidth"),10),k=parseInt(d.get("barSpacing"),10),l=d.get("chartRangeMin"),n=d.get("chartRangeMax"),o=d.get("chartRangeClip"),p=Infinity,C=-Infinity,E,w,K,y,s,v;D._super.init.call(this,
b,c,d,e,h);b=0;for(e=c.length;b<e;b++)if(h=c[b],(E=typeof h==="string"&&h.indexOf(":")>-1)||a.isArray(h))y=!0,E&&(r=c[b]=i(h.split(":")),h=r),h=m(h,null),E=Math.min.apply(Math,h),h=Math.max.apply(Math,h),E<p&&(p=E),h>C&&(C=h);this.stacked=y;this.regionShapes={};this.barWidth=j;this.barSpacing=k;this.totalBarWidth=j+k;this.width=c.length*j+(c.length-1)*k;this.initTarget();o&&(K=l===void 0?-Infinity:l,w=n===void 0?Infinity:n);l=[];j=y?[]:l;n=[];k=[];b=0;for(e=c.length;b<e;b++)if(y){E=c[b];c[b]=[];n[b]=
0;s=j[b]=k[b]=0;for(v=E.length;s<v;s++)h=o?g(E[s],K,w):E[s],h!==null&&(h>0&&(n[b]+=h),p<0&&C>0?h<0?k[b]+=Math.abs(h):j[b]+=h:j[b]+=Math.abs(h-(h<0?C:p)),l.push(h))}else h=o?g(c[b],K,w):c[b],h=c[b]=f(h),h!==null&&l.push(h);this.max=o=Math.max.apply(Math,l);this.min=c=Math.min.apply(Math,l);this.stackMax=C=y?Math.max.apply(Math,n):o;this.stackMin=y?Math.min.apply(Math,l):c;if(d.get("chartRangeMin")!==void 0&&(d.get("chartRangeClip")||d.get("chartRangeMin")<c))c=d.get("chartRangeMin");if(d.get("chartRangeMax")!==
void 0&&(d.get("chartRangeClip")||d.get("chartRangeMax")>o))o=d.get("chartRangeMax");this.zeroAxis=p=d.get("zeroAxis",!0);this.xaxisOffset=K=c<=0&&o>=0&&p?0:p==!1?c:c>0?c:o;w=y?Math.max.apply(Math,j)+Math.max.apply(Math,k):o-c;this.canvasHeightEf=p&&c<0?this.canvasHeight-2:this.canvasHeight-1;c<K?(C=((y&&o>=0?C:o)-K)/w*this.canvasHeight,C!==Math.ceil(C)&&(this.canvasHeightEf-=2,C=Math.ceil(C))):C=this.canvasHeight;this.yoffset=C;if(a.isArray(d.get("colorMap")))this.colorMapByIndex=d.get("colorMap"),
this.colorMapByValue=null;else if(this.colorMapByIndex=null,(this.colorMapByValue=d.get("colorMap"))&&this.colorMapByValue.get===void 0)this.colorMapByValue=new q(this.colorMapByValue);this.range=w},getRegion:function(a,b){var c=Math.floor(b/this.totalBarWidth);return c<0||c>=this.values.length?void 0:c},getCurrentRegionFields:function(){var a=this.currentRegion,b=l(this.values[a]),c=[],d,e;for(e=b.length;e--;)d=b[e],c.push({isNull:d===null,value:d,color:this.calcColor(e,d,a),offset:a});return c},
calcColor:function(b,c,d){var e=this.colorMapByIndex,f=this.colorMapByValue,g=this.options,h,i;h=this.stacked?g.get("stackedBarColor"):c<0?g.get("negBarColor"):g.get("barColor");c===0&&g.get("zeroColor")!==void 0&&(h=g.get("zeroColor"));f&&(i=f.get(c))?h=i:e&&e.length>d&&(h=e[d]);return a.isArray(h)?h[b%h.length]:h},renderRegion:function(b,c){var d=this.values[b],e=this.options,f=this.xaxisOffset,g=[],h=this.range,i=this.stacked,j=this.target,l=b*this.totalBarWidth,m=this.canvasHeightEf,n=this.yoffset,
q,o,p,s,v,z,B,D,d=a.isArray(d)?d:[d];z=d.length;q=k(null,d);D=k(f,d,!0);if(q)if(e.get("nullColor"))return p=c?e.get("nullColor"):this.calcHighlightColor(e.get("nullColor"),e),j.drawRect(l,n>0?n-1:n,this.barWidth-1,0,p,p);else return;s=n;for(v=0;v<z;v++){p=d[v];if(i&&p===f){if(!D||B)continue;B=!0}o=h>0?Math.floor(m*(Math.abs(p-f)/h))+1:1;p<f||p===f&&n===0?(q=s,s+=o):(q=n-o,n-=o);p=this.calcColor(v,p,b);c&&(p=this.calcHighlightColor(p,e));g.push(j.drawRect(l,q,this.barWidth-1,o-1,p,p))}return g.length===
1?g[0]:g}});a.fn.sparkline.tristate=B=e(a.fn.sparkline._base,z,{type:"tristate",init:function(b,c,d,e,f){var g=parseInt(d.get("barWidth"),10),h=parseInt(d.get("barSpacing"),10);B._super.init.call(this,b,c,d,e,f);this.regionShapes={};this.barWidth=g;this.barSpacing=h;this.totalBarWidth=g+h;this.values=a.map(c,Number);this.width=c.length*g+(c.length-1)*h;if(a.isArray(d.get("colorMap")))this.colorMapByIndex=d.get("colorMap"),this.colorMapByValue=null;else if(this.colorMapByIndex=null,(this.colorMapByValue=
d.get("colorMap"))&&this.colorMapByValue.get===void 0)this.colorMapByValue=new q(this.colorMapByValue);this.initTarget()},getRegion:function(a,b){return Math.floor(b/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===void 0,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c=this.values,d=this.options,e=this.colorMapByIndex,f=this.colorMapByValue,g;return f&&(g=f.get(a))?g:e&&e.length>b?e[b]:
c[b]<0?d.get("negBarColor"):c[b]>0?d.get("posBarColor"):d.get("zeroBarColor")},renderRegion:function(a,b){var c=this.values,d=this.options,e=this.target,f,g,h;f=Math.round(e.pixelHeight/2);g=a*this.totalBarWidth;c[a]<0?(h=f,f-=1):c[a]>0?(h=0,f-=1):(h=f-1,f=2);c=this.calcColor(c[a],a);if(c!==null)return b&&(c=this.calcHighlightColor(c,d)),e.drawRect(g,h,this.barWidth-1,f-1,c,c)}});a.fn.sparkline.discrete=O=e(a.fn.sparkline._base,z,{type:"discrete",init:function(b,c,d,e,f){O._super.init.call(this,b,
c,d,e,f);this.regionShapes={};this.values=c=a.map(c,Number);this.min=Math.min.apply(Math,c);this.max=Math.max.apply(Math,c);this.range=this.max-this.min;this.width=e=d.get("width")==="auto"?c.length*2:this.width;this.interval=Math.floor(e/c.length);this.itemWidth=e/c.length;if(d.get("chartRangeMin")!==void 0&&(d.get("chartRangeClip")||d.get("chartRangeMin")<this.min))this.min=d.get("chartRangeMin");if(d.get("chartRangeMax")!==void 0&&(d.get("chartRangeClip")||d.get("chartRangeMax")>this.max))this.max=
d.get("chartRangeMax");this.initTarget();if(this.target)this.lineHeight=d.get("lineHeight")==="auto"?Math.round(this.canvasHeight*0.3):d.get("lineHeight")},getRegion:function(a,b){return Math.floor(b/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===void 0,value:this.values[a],offset:a}},renderRegion:function(a,b){var c=this.options,d=this.min,e=this.range,f=this.interval,h=this.target,i=this.lineHeight,j=this.canvasHeight-i,k;k=g(this.values[a],
d,this.max);f*=a;d=Math.round(j-j*((k-d)/e));k=c.get("thresholdColor")&&k<c.get("thresholdValue")?c.get("thresholdColor"):c.get("lineColor");b&&(k=this.calcHighlightColor(k,c));return h.drawLine(f,d,f,d+i,k)}});a.fn.sparkline.bullet=G=e(a.fn.sparkline._base,{type:"bullet",init:function(a,b,c,d,e){var f;G._super.init.call(this,a,b,c,d,e);this.values=b=i(b);a=b.slice();a[0]=a[0]===null?a[2]:a[0];a[1]=b[1]===null?a[2]:a[1];a=Math.min.apply(Math,b);f=Math.max.apply(Math,b);this.min=a=c.get("base")===
void 0?a<0?a:0:c.get("base");this.max=f;this.range=f-a;this.shapes={};this.valueShapes={};this.regiondata={};this.width=d=c.get("width")==="auto"?"4.0em":d;this.target=this.$el.simpledraw(d,e,c.get("composite"));if(!b.length)this.disabled=!0;this.initTarget()},getRegion:function(a,b,c){a=this.target.getShapeAt(a,b,c);return a!==void 0&&this.shapes[a]!==void 0?this.shapes[a]:void 0},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],
region:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.valueShapes[b],d;delete this.shapes[c];switch(b.substr(0,1)){case "r":d=this.renderRange(b.substr(1),a);break;case "p":d=this.renderPerformance(a);break;case "t":d=this.renderTarget(a)}this.valueShapes[b]=d.id;this.shapes[d.id]=b;this.target.replaceWithShape(c,d)},renderRange:function(a,b){var c=Math.round(this.canvasWidth*((this.values[a]-this.min)/this.range)),d=this.options.get("rangeColors")[a-2];b&&(d=this.calcHighlightColor(d,
this.options));return this.target.drawRect(0,0,c-1,this.canvasHeight-1,d,d)},renderPerformance:function(a){var b=Math.round(this.canvasWidth*((this.values[1]-this.min)/this.range)),c=this.options.get("performanceColor");a&&(c=this.calcHighlightColor(c,this.options));return this.target.drawRect(0,Math.round(this.canvasHeight*0.3),b-1,Math.round(this.canvasHeight*0.4)-1,c,c)},renderTarget:function(a){var b=Math.round(this.canvasWidth*((this.values[0]-this.min)/this.range)-this.options.get("targetWidth")/
2),c=Math.round(this.canvasHeight*0.1),d=this.canvasHeight-c*2,e=this.options.get("targetColor");a&&(e=this.calcHighlightColor(e,this.options));return this.target.drawRect(b,c,this.options.get("targetWidth")-1,d-1,e,e)},render:function(){var a=this.values.length,b=this.target,c,d;if(G._super.render.call(this)){for(c=2;c<a;c++)d=this.renderRange(c).append(),this.shapes[d.id]="r"+c,this.valueShapes["r"+c]=d.id;if(this.values[1]!==null)d=this.renderPerformance().append(),this.shapes[d.id]="p1",this.valueShapes.p1=
d.id;if(this.values[0]!==null)d=this.renderTarget().append(),this.shapes[d.id]="t0",this.valueShapes.t0=d.id;b.render()}}});a.fn.sparkline.pie=M=e(a.fn.sparkline._base,{type:"pie",init:function(b,c,d,e,f){var g=0;M._super.init.call(this,b,c,d,e,f);this.shapes={};this.valueShapes={};this.values=c=a.map(c,Number);if(d.get("width")==="auto")this.width=this.height;if(c.length>0)for(b=c.length;b--;)g+=c[b];this.total=g;this.initTarget();this.radius=Math.floor(Math.min(this.canvasWidth,this.canvasHeight)/
2)},getRegion:function(a,b,c){a=this.target.getShapeAt(a,b,c);return a!==void 0&&this.shapes[a]!==void 0?this.shapes[a]:void 0},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===void 0,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,a=this.renderSlice(b,a),c=this.valueShapes[b];delete this.shapes[c];this.target.replaceWithShape(c,
a);this.valueShapes[b]=a.id;this.shapes[a.id]=b},renderSlice:function(a,b){var c=this.target,d=this.options,e=this.radius,f=d.get("borderWidth"),g=d.get("offset"),h=2*Math.PI,i=this.values,j=this.total,k=g?2*Math.PI*(g/360):0,l,m,n;n=i.length;for(m=0;m<n;m++){l=g=k;j>0&&(l=k+h*(i[m]/j));if(a===m)return h=d.get("sliceColors")[m%d.get("sliceColors").length],b&&(h=this.calcHighlightColor(h,d)),c.drawPieSlice(e,e,e-f,g,l,void 0,h);k=l}},render:function(){var a=this.target,b=this.values,c=this.options,
d=this.radius,e=c.get("borderWidth");if(M._super.render.call(this)){e&&a.drawCircle(d,d,Math.floor(d-e/2),c.get("borderColor"),void 0,e).append();for(d=b.length;d--;)if(b[d])c=this.renderSlice(d).append(),this.valueShapes[d]=c.id,this.shapes[c.id]=d;a.render()}}});a.fn.sparkline.box=J=e(a.fn.sparkline._base,{type:"box",init:function(b,c,d,e,f){J._super.init.call(this,b,c,d,e,f);this.values=a.map(c,Number);this.width=d.get("width")==="auto"?"4.0em":e;this.initTarget();if(!this.values.length)this.disabled=
1},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];this.loutlier!==void 0&&a.push({field:"lo",value:this.loutlier});this.routlier!==void 0&&a.push({field:"ro",value:this.routlier});this.lwhisker!==void 0&&a.push({field:"lw",value:this.lwhisker});this.rwhisker!==void 0&&a.push({field:"rw",value:this.rwhisker});return a},render:function(){var a=this.target,b=this.values,
c=b.length,e=this.options,f=this.canvasWidth,g=this.canvasHeight,h=e.get("chartRangeMin")===void 0?Math.min.apply(Math,b):e.get("chartRangeMin"),i=e.get("chartRangeMax")===void 0?Math.max.apply(Math,b):e.get("chartRangeMax"),j=0,k,l,m,n,q,o,p,s;if(J._super.render.call(this)){if(e.get("raw"))e.get("showOutliers")&&b.length>5?(l=b[0],k=b[1],n=b[2],q=b[3],o=b[4],p=b[5],s=b[6]):(k=b[0],n=b[1],q=b[2],o=b[3],p=b[4]);else if(b.sort(function(a,b){return a-b}),n=d(b,1),q=d(b,2),o=d(b,3),m=o-n,e.get("showOutliers")){k=
p=void 0;for(l=0;l<c;l++)k===void 0&&b[l]>n-m*e.get("outlierIQR")&&(k=b[l]),b[l]<o+m*e.get("outlierIQR")&&(p=b[l]);l=b[0];s=b[c-1]}else k=b[0],p=b[c-1];this.quartiles=[n,q,o];this.lwhisker=k;this.rwhisker=p;this.loutlier=l;this.routlier=s;b=f/(i-h+1);e.get("showOutliers")&&(j=Math.ceil(e.get("spotRadius")),f-=2*Math.ceil(e.get("spotRadius")),b=f/(i-h+1),l<k&&a.drawCircle((l-h)*b+j,g/2,e.get("spotRadius"),e.get("outlierLineColor"),e.get("outlierFillColor")).append(),s>p&&a.drawCircle((s-h)*b+j,g/2,
e.get("spotRadius"),e.get("outlierLineColor"),e.get("outlierFillColor")).append());a.drawRect(Math.round((n-h)*b+j),Math.round(g*0.1),Math.round((o-n)*b),Math.round(g*0.8),e.get("boxLineColor"),e.get("boxFillColor")).append();a.drawLine(Math.round((k-h)*b+j),Math.round(g/2),Math.round((n-h)*b+j),Math.round(g/2),e.get("lineColor")).append();a.drawLine(Math.round((k-h)*b+j),Math.round(g/4),Math.round((k-h)*b+j),Math.round(g-g/4),e.get("whiskerColor")).append();a.drawLine(Math.round((p-h)*b+j),Math.round(g/
2),Math.round((o-h)*b+j),Math.round(g/2),e.get("lineColor")).append();a.drawLine(Math.round((p-h)*b+j),Math.round(g/4),Math.round((p-h)*b+j),Math.round(g-g/4),e.get("whiskerColor")).append();a.drawLine(Math.round((q-h)*b+j),Math.round(g*0.1),Math.round((q-h)*b+j),Math.round(g*0.9),e.get("medianColor")).append();e.get("target")&&(f=Math.ceil(e.get("spotRadius")),a.drawLine(Math.round((e.get("target")-h)*b+j),Math.round(g/2-f),Math.round((e.get("target")-h)*b+j),Math.round(g/2+f),e.get("targetColor")).append(),
a.drawLine(Math.round((e.get("target")-h)*b+j-f),Math.round(g/2),Math.round((e.get("target")-h)*b+j+f),Math.round(g/2),e.get("targetColor")).append());a.render()}}});a.browser.msie&&document.namespaces&&!document.namespaces.v&&document.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");if(a.browser.hasCanvas===void 0)a.browser.hasCanvas=document.createElement("canvas").getContext!==void 0;P=e({init:function(a,b,c,d){this.target=a;this.id=b;this.type=c;this.args=d},append:function(){this.target.appendShape(this);
return this}});z=e({_pxregex:/(\d+)(px)?\s*$/i,init:function(b,c,d){if(b)this.width=b,this.height=c,this.target=d,this.lastShapeId=null,d[0]&&(d=d[0]),a.data(d,"_jqs_vcanvas",this)},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,
b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(b,c){a(c).html(b)},_calculatePixelDims:function(b,c,d){this.pixelHeight=(c=this._pxregex.exec(c))?c[1]:a(d).height();this.pixelWidth=(c=this._pxregex.exec(b))?c[1]:a(d).width()},_genShape:function(a,b){var c=S++;b.unshift(c);return new P(this,c,a,b)},appendShape:function(){alert("appendShape not implemented")},
replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});v=e(z,{init:function(b,c,d,e){v._super.init.call(this,b,c,d);this.canvas=document.createElement("canvas");d[0]&&(d=d[0]);a.data(d,"_jqs_vcanvas",this);a(this.canvas).css({display:"inline-block",
width:b,height:c,verticalAlign:"top"});this._insert(this.canvas,d);this._calculatePixelDims(b,c,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=e;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=void 0;a(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,c){var d=this.canvas.getContext("2d");if(a!==void 0)d.strokeStyle=a;d.lineWidth=c===void 0?1:c;if(b!==void 0)d.fillStyle=b;return d},reset:function(){this._getContext().clearRect(0,
0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=void 0},_drawShape:function(a,b,c,d,e){var e=this._getContext(c,d,e),f,g;e.beginPath();e.moveTo(b[0][0]+0.5,b[0][1]+0.5);f=1;for(g=b.length;f<g;f++)e.lineTo(b[f][0]+0.5,b[f][1]+0.5);c!==void 0&&e.stroke();d!==void 0&&e.fill();if(this.targetX!==void 0&&this.targetY!==void 0&&e.isPointInPath(this.targetX,this.targetY))this.currentTargetShapeId=a},_drawCircle:function(a,b,c,d,e,f,g){g=this._getContext(e,f,g);
g.beginPath();g.arc(b,c,d,0,2*Math.PI,!1);if(this.targetX!==void 0&&this.targetY!==void 0&&g.isPointInPath(this.targetX,this.targetY))this.currentTargetShapeId=a;e!==void 0&&g.stroke();f!==void 0&&g.fill()},_drawPieSlice:function(a,b,c,d,e,f,g,h){var j=this._getContext(g,h);j.beginPath();j.moveTo(b,c);j.arc(b,c,d,e,f,!1);j.lineTo(b,c);j.closePath();g!==void 0&&j.stroke();h&&j.fill();if(this.targetX!==void 0&&this.targetY!==void 0&&j.isPointInPath(this.targetX,this.targetY))this.currentTargetShapeId=
a},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){this.shapes[a.id]=a;this.shapeseq.push(a.id);return this.lastShapeId=a.id},replaceWithShape:function(a,b){var c=this.shapeseq,d;this.shapes[b.id]=b;for(d=c.length;d--;)if(c[d]==a)c[d]=b.id;delete this.shapes[a]},replaceWithShapes:function(a,b){var c=this.shapeseq,d={},e,f,g;for(f=a.length;f--;)d[a[f]]=!0;for(f=c.length;f--;)e=c[f],d[e]&&(c.splice(f,1),delete this.shapes[e],
g=f);for(f=b.length;f--;)c.splice(g,0,b[f].id),this.shapes[b[f].id]=b[f]},insertAfterShape:function(a,b){var c=this.shapeseq,d;for(d=c.length;d--;)if(c[d]===a){c.splice(d+1,0,b.id);this.shapes[b.id]=b;break}},removeShapeId:function(a){var b=this.shapeseq,c;for(c=b.length;c--;)if(b[c]===a){b.splice(c,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){this.targetX=b;this.targetY=c;this.render();return this.currentTargetShapeId},render:function(){var a=this.shapeseq,b=this.shapes,c=a.length,
d,e;this._getContext().clearRect(0,0,this.pixelWidth,this.pixelHeight);for(e=0;e<c;e++)d=a[e],d=b[d],this["_draw"+d.type].apply(this,d.args);if(!this.interact)this.shapes={},this.shapeseq=[]}});F=e(z,{init:function(b,c,d){F._super.init.call(this,b,c,d);d[0]&&(d=d[0]);a.data(d,"_jqs_vcanvas",this);this.canvas=document.createElement("span");a(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,
d);this._calculatePixelDims(b,c,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.canvas.insertAdjacentHTML("beforeEnd",'<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>');this.group=a(this.canvas).children()[0];this.rendered=!1;this.prerender=""},_drawShape:function(a,b,c,d,e){var f=[],g,h;h=0;for(g=b.length;h<g;h++)f[h]=
""+b[h][0]+","+b[h][1];b=f.splice(0,1);g=f[0]===f[f.length-1]?"x ":"";return'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+(c===void 0?' stroked="false" ':' strokeWeight="'+(e===void 0?1:e)+'px" strokeColor="'+c+'" ')+(d===void 0?' filled="false"':' fillColor="'+d+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+b+" l "+f.join(", ")+" "+
g+'e"> </v:shape>'},_drawCircle:function(a,b,c,d,e,f,g){b-=d;c-=d;return'<v:oval  id="jqsshape'+a+'" '+(e===void 0?' stroked="false" ':' strokeWeight="'+g+'px" strokeColor="'+e+'" ')+(f===void 0?' filled="false"':' fillColor="'+f+'" filled="true" ')+' style="position:absolute;top:'+c+"px; left:"+b+"px; width:"+d*2+"px; height:"+d*2+'px"></v:oval>'},_drawPieSlice:function(a,b,c,d,e,f,g,h){var j,i,k,l;if(e!==f&&(f-e===2*Math.PI&&(e=0,f=2*Math.PI),j=b+Math.round(Math.cos(e)*d),i=c+Math.round(Math.sin(e)*
d),k=b+Math.round(Math.cos(f)*d),l=c+Math.round(Math.sin(f)*d),!(j===k&&i===l&&f-e<Math.PI)))return d=[b-d,c-d,b+d,c+d,j,i,k,l],'<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+(g===void 0?' stroked="false" ':' strokeWeight="1px" strokeColor="'+g+'" ')+(h===void 0?' filled="false"':' fillColor="'+h+'" filled="true" ')+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+
b+","+c+" wa "+d.join(", ")+' x e"> </v:shape>'},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b;return this.lastShapeId=a.id},replaceWithShape:function(b,c){var d=a("#jqsshape"+b),e=this["_draw"+c.type].apply(this,c.args);d[0].outerHTML=e},replaceWithShapes:function(b,
c){var d=a("#jqsshape"+b[0]),e="",f=c.length,g;for(g=0;g<f;g++)e+=this["_draw"+c[g].type].apply(this,c[g].args);d[0].outerHTML=e;for(g=1;g<b.length;g++)a("#jqsshape"+b[g]).remove()},insertAfterShape:function(b,c){var d=a("#jqsshape"+b),e=this["_draw"+c.type].apply(this,c.args);d[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(b){this.group.removeChild(a("#jqsshape"+b)[0])},getShapeAt:function(a){return a.id.substr(8)},render:function(){if(!this.rendered)this.group.innerHTML=this.prerender,
this.rendered=!0}})});if(!window.CS)window.CS={};
CS.ReportsCommon=function(){return{setupSparkLines:function(){$(".sparklines.opens figure").each(function(){var a=$(this).data("points");$(this).sparkline(a,{chartRangeMin:0,chartRangeMax:100,type:"line",lineColor:"#309d15",height:"14px",width:"50px",lineWidth:"1",spotRadius:"2",minSpotColor:!1,maxSpotColor:!1,spotColor:"#309d15",fillColor:""})});$(".sparklines.clicks figure").each(function(){var a=$(this).data("points");$(this).sparkline(a,{chartRangeMin:0,chartRangeMax:100,type:"line",lineColor:"#1e8fc5",
height:"14px",width:"50px",lineWidth:"1",spotRadius:"2",minSpotColor:!1,maxSpotColor:!1,spotColor:"#1e8fc5",fillColor:""})})}}}();(function(a,b){var e="value.inputEvent",c=["input","textInput","propertychange","paste","cut","keydown","drop",""].join(".inputEvent "),g=["focusin","mouseover","dragstart",""].join(".inputEvent "),d={TEXTAREA:b,INPUT:b},f={paste:b,cut:b,keydown:b,drop:b,textInput:b};a.event.special.txtinput={setup:function(b,m,h){function h(b){var c=b.target;window.clearTimeout(j);j=null;n||(b.type in f&&!j?j=window.setTimeout(function(){c.value!==a.data(c,e)&&(a(c).trigger("txtinput"),a.data(c,e,c.value))},0):b.type==
"propertychange"?b.originalEvent.propertyName=="value"&&(a(c).trigger("txtinput"),a.data(c,e,c.value),n=!0,window.setTimeout(function(){n=!1},0)):(a(c).trigger("txtinput"),a.data(c,e,c.value),n=!0,window.setTimeout(function(){n=!1},0)))}var k,j,l=this,b=a(this),n=!1;l.tagName in d?((k=a.data(l,"bound.inputEvent")||0)||b.bind(c,h),a.data(l,"bound.inputEvent",++k),a.data(l,e,l.value)):b.bind(g,function(b){b=b.target;b.tagName in d&&!a.data(l,"delegated.inputEvent")&&((k=a.data(b,"bound.inputEvent")||
0)||b.bind(c,h),a.data(l,"delegated.inputEvent",!0),a.data(b,"bound.inputEvent",++k),a.data(b,e,b.value))})},teardown:function(){var b=a(this);b.unbind(g);b.find("input, textarea").andSelf().each(function(){(bndCount=a.data(this,"bound.inputEvent",(a.data(this,"bound.inputEvent")||1)-1))||b.unbind(c)})}};a.fn.input=function(a){return a?this.bind("txtinput",a):this.trigger("txtinput")}})(jQuery);(function(a){var b=function(b,c){this.options=c||{};this.$input=b;this.input=b[0];if(!this.$input.attr("data-dont-precedent")){this.$input.prefilled=this.inputGetVal();if(this.$input.data("semiplacehold"))this.options.semiplacehold=!0,this.$input.prefilled=this.$input.data("semiplacehold");this.placeholderText=this.$input.attr("placeholder");if(this.options.semiplacehold)this.placeholderText=this.placeholderText.split(this.$input.prefilled)[1];this.$placeholder=a('<div class="placeholder">').css({position:"absolute",
paddingBottom:"10px",whiteSpace:"pre-wrap",paddingTop:parseInt(this.$input.css("paddingTop"))+parseInt(this.$input.css("borderTopWidth")),paddingLeft:parseInt(this.$input.css("padding-left"))+parseInt(this.$input.css("borderLeftWidth"))+"px",paddingRight:this.$input.css("padding-right"),top:"0px",left:"0px",zIndex:9}).html(this.placeholderText);this.options.semiplacehold||this.$placeholder.css({pointerEvents:"none"});this.$prefilledTextWhenSemiPlaceholder=a("<pre>").text(this.$input.prefilled).css({fontFamily:this.$input.css("fontFamily"),
display:"inline",position:"absolute",top:"-999999px",left:"-999999px"});var g=this.$input.css("display");g==="inline"&&(g="inline-block");this.$placeholderWrapper=a('<div class="placeholder-wrapper">');this.$placeholderWrapper.css({position:"relative",lineHeight:this.$input.css("lineHeight"),fontSize:this.$input.css("fontSize"),fontFamily:this.$input.css("fontFamily"),fontWeight:this.$input.css("fontWeight"),display:g}).html(this.$placeholder).addClass(this.$input.attr("data-placeholder-class"));
this.$input.before(this.$placeholderWrapper).appendTo(this.$placeholderWrapper);this.$prefilledTextWhenSemiPlaceholder.appendTo(this.$placeholderWrapper);this.$input.removeAttr("placeholder");this.$placeholder&&(this.togglePlaceholder(),this.options.semiplacehold&&this.positionSemiPlaceholder(),this.bindEvents())}};b.prototype.inputGetVal=function(){var a=this.$input;return a.attr("contenteditable")===void 0?a.val():a.text()};b.prototype.bindEvents=function(){var b=this;this.$placeholder.bind("mousedown.precedent, touchstart.precedent",
function(){b.focusInput()});this.$input.bind("focus.precedent",function(){b.focusPlaceholder()});this.$input.bind("blur.precedent",function(){b.unfocusPlaceholder()});this.$input.bind("txtinput.precedent, valueChanged.precedent, change.precedent, input.precedent",function(){b.togglePlaceholder()});this.$input.attr("contenteditable")!==void 0&&a.browser.msie&&this.$input.bind("keyup.precedent",function(){b.togglePlaceholder()})};b.prototype.focusInput=function(){if(!this.$input.is(":focus")){var a=
this.$input[0];window.setTimeout(function(){if(a.setSelectionRange)a.setSelectionRange(a.value.length,a.value.length);else if(a.createTextRange){var b=a.createTextRange();b.moveStart("character",a.value.length);b.select()}},1)}this.$placeholder.css({pointerEvents:"none"})};b.prototype.focusPlaceholder=function(){this.$placeholder.addClass("focus")};b.prototype.unfocusPlaceholder=function(){this.$placeholder.removeClass("focus");this.togglePlaceholder()};b.prototype.togglePlaceholder=function(){this.options.semiplacehold?
(this.$input.userEnteredText=this.inputGetVal().split(this.$input.prefilled)[1],this.inputGetVal()==this.$input.prefilled?(this.$placeholder.removeClass("hidden"),this.$placeholder.text(this.placeholderText),this.positionSemiPlaceholder()):this.$input.prefilled.slice(0,this.inputGetVal().length)==this.inputGetVal()?(this.placeholderTextNew=this.inputGetVal()==""?this.$input.prefilled+this.placeholderText:this.$input.prefilled.split(this.inputGetVal())[1]+this.placeholderText,this.$placeholder.text(this.placeholderTextNew),
this.positionSemiPlaceholder(),this.$placeholder.removeClass("hidden")):this.$placeholder.addClass("hidden")):this.$placeholder.toggleClass("hidden",!!a.trim(this.inputGetVal()))};b.prototype.positionSemiPlaceholder=function(){this.$prefilledTextWhenSemiPlaceholder.text(this.inputGetVal());this.$placeholder.css({textIndent:this.$prefilledTextWhenSemiPlaceholder.width()})};a.fn.precedent=function(e){this.filter("input, textarea, *[contenteditable]").each(function(){new b(a(this),e)});return this}})(jQuery);(function(a){a.fn.placeHoldize=function(){function b(b){var d=a(this);if((b||!c&&d.attr("placeholder")||d.is("textarea"))&&!d.attr("data-dont-placeholdize")){var e=d.attr("placeholder");d.val().length<=0||d.val()==e?(d.val(""),d.removeAttr("placeholder").addClass("placeholder-visible"),d.val(e)):d.removeClass("placeholder-visible").addClass("placeholder-hidden");d.addClass("placeholdized");d.focus(function(){var b=a(this);b.val()===e&&(b.val(""),b.removeClass("placeholder-visible").addClass("placeholder-hidden"))});
d.blur(function(){var b=a(this);b.val()===""?(b.val(e),b.removeClass("placeholder-hidden").addClass("placeholder-visible")):b.removeClass("placeholder-visible").addClass("placeholder-hidden")})}}function e(b){b.closest("form").submit(function(){var b=a(this);b.data("placeHoldize.submitHandlerCalled")||b.find(".placeholder-visible").val("").data("placeHoldize.submitHandlerCalled",!0)});return!0}var c=function(a){return a.placeholder===""&&a.placeholder!==void 0}(document.createElement("input"));return function(a){this.each(function(){b.call(this,
a)});e(this);return this}}()})(jQuery);(function(a){a.uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",buttonClass:"button",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1,autoHide:!0},elements:[]};a.support.selectOpacity=!(a.browser.msie&&a.browser.version<7);a.fn.uniform=
function(b){function e(c){var d=a(c),e=a("<div>"),f=a("<span>");e.addClass(b.buttonClass);b.useID&&d.attr("id")!=""&&e.attr("id",b.idPrefix+"-"+d.attr("id"));var g;if(d.is("a")||d.is("button"))g=d.text();else if(d.is(":submit")||d.is(":reset")||d.is("input[type=button]"))g=d.attr("value");g=g==""?d.is(":reset")?"Reset":"Submit":g;f.html(g);d.css("opacity",0);d.wrap(e);d.wrap(f);e=d.closest("div");f=d.closest("span");d.is(":disabled")&&e.addClass(b.disabledClass);e.bind({"mouseenter.uniform":function(){e.addClass(b.hoverClass)},
"mouseleave.uniform":function(){e.removeClass(b.hoverClass);e.removeClass(b.activeClass)},"mousedown.uniform touchbegin.uniform":function(){e.addClass(b.activeClass)},"mouseup.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"click.uniform touchend.uniform":function(b){if(a(b.target).is("span")||a(b.target).is("div"))c[0].dispatchEvent?(b=document.createEvent("MouseEvents"),b.initEvent("click",!0,!0),c[0].dispatchEvent(b)):c[0].click()}});c.bind({"focus.uniform":function(){e.addClass(b.focusClass)},
"blur.uniform":function(){e.removeClass(b.focusClass)}});a.uniform.noSelect(e);i(c)}function c(c){var d=a(c),e=a("<div />"),f=a("<span />");!d.css("display")=="none"&&b.autoHide&&e.hide();e.addClass(b.selectClass);b.useID&&c.attr("id")!=""&&e.attr("id",b.idPrefix+"-"+c.attr("id"));c.attr("class")!=""&&e.addClass(c.attr("class"));d=c.find(":selected:first");d.length==0&&(d=c.find("option:first"));f.html(d.html());f.attr("class",d.val());d.attr("class")&&f.attr("class",d.attr("class"));c.css("opacity",
0);c.wrap(e);c.before(f);c.after(a("<i class='before'></i>"));e=c.parent("div");f=c.siblings("span");c.bind({"change.uniform":function(){f.text(c.find(":selected").text());f.attr("class",c.find(":selected").val());e.removeClass(b.activeClass);c.find(":selected").attr("class")?f.attr("class",c.find(":selected").attr("class")):f.removeAttr("class")},"focus.uniform":function(){e.addClass(b.focusClass)},"blur.uniform":function(){e.removeClass(b.focusClass);e.removeClass(b.activeClass)},"mousedown.uniform touchbegin.uniform":function(){e.addClass(b.activeClass)},
"mouseup.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"click.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass);e.removeClass(b.activeClass)},"keyup.uniform":function(){f.text(c.find(":selected").text())}});a(c).attr("disabled")&&e.addClass(b.disabledClass);a.uniform.noSelect(f);i(c)}function g(c){var d=a(c),e=a("<div />"),f=a("<span />");!d.css("display")==
"none"&&b.autoHide&&e.hide();e.addClass(b.checkboxClass);b.useID&&c.attr("id")!=""&&e.attr("id",b.idPrefix+"-"+c.attr("id"));a(c).wrap(e);a(c).wrap(f);f=c.parent();e=f.parent();a(c).css("opacity",0).bind({"focus.uniform":function(){e.addClass(b.focusClass)},"blur.uniform":function(){e.removeClass(b.focusClass)},"click.uniform touchend.uniform":function(){a(c).is(":checked")?f.addClass(b.checkedClass):f.removeClass(b.checkedClass)},"mousedown.uniform touchbegin.uniform":function(){e.addClass(b.activeClass)},
"mouseup.uniform touchend.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass);e.removeClass(b.activeClass)}});a(c).is(":checked")&&f.addClass(b.checkedClass);a(c).is(":disabled")&&e.addClass(b.disabledClass);i(c)}function d(c){var d=a(c),e=a("<div />"),f=a("<span />");!d.css("display")=="none"&&b.autoHide&&e.hide();e.addClass(b.radioClass);b.useID&&c.attr("id")!=""&&e.attr("id",b.idPrefix+
"-"+c.attr("id"));a(c).wrap(e);a(c).wrap(f);f=c.parent();e=f.parent();a(c).css("opacity",0).bind({"focus.uniform":function(){e.addClass(b.focusClass)},"blur.uniform":function(){e.removeClass(b.focusClass)},"click.uniform touchend.uniform":function(){if(a(c).is(":checked")){var d=b.radioClass.split(" ")[0];a("."+d+" span."+b.checkedClass+":has([name='"+a(c).attr("name")+"'])").removeClass(b.checkedClass);f.addClass(b.checkedClass)}else f.removeClass(b.checkedClass)},"mousedown.uniform touchend.uniform":function(){a(c).is(":disabled")||
e.addClass(b.activeClass)},"mouseup.uniform touchbegin.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform touchend.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass);e.removeClass(b.activeClass)}});a(c).is(":checked")&&f.addClass(b.checkedClass);a(c).is(":disabled")&&e.addClass(b.disabledClass);i(c)}function f(c){var d=a(c),e=a("<div />"),f=a("<span>"+b.fileDefaultText+"</span>"),g=a("<span>"+b.fileBtnText+"</span>");!d.css("display")==
"none"&&b.autoHide&&e.hide();e.addClass(b.fileClass);f.addClass(b.filenameClass);g.addClass(b.fileBtnClass);b.useID&&d.attr("id")!=""&&e.attr("id",b.idPrefix+"-"+d.attr("id"));d.wrap(e);d.after(g);d.after(f);e=d.closest("div");f=d.siblings("."+b.filenameClass);g=d.siblings("."+b.fileBtnClass);if(!d.attr("size")){var m=e.width();m&&d.attr("size",m/10)}var o=function(){var a=d.val();a===""?a=b.fileDefaultText:(a=a.split(/[\/\\]+/),a=a[a.length-1]);f.text(a)};o();d.css("opacity",0).bind({"focus.uniform":function(){e.addClass(b.focusClass)},
"blur.uniform":function(){e.removeClass(b.focusClass)},"mousedown.uniform":function(){a(c).is(":disabled")||e.addClass(b.activeClass)},"mouseup.uniform":function(){e.removeClass(b.activeClass)},"mouseenter.uniform":function(){e.addClass(b.hoverClass)},"mouseleave.uniform":function(){e.removeClass(b.hoverClass);e.removeClass(b.activeClass)}});a.browser.msie?d.bind("click.uniform.ie7",function(){setTimeout(o,0)}):d.bind("change.uniform",o);d.attr("disabled")&&e.addClass(b.disabledClass);a.uniform.noSelect(f);
a.uniform.noSelect(g);i(c)}function i(b){b=a(b).get();b.length>1?a.each(b,function(b,c){a.uniform.elements.push(c)}):a.uniform.elements.push(b)}var b=a.extend(a.uniform.options,b),m=this;b.resetSelector!=!1&&a(b.resetSelector).mouseup(function(){setTimeout(function(){a.uniform.update(m)},10)});a.uniform.restore=function(b){b==void 0&&(b=a(a.uniform.elements));a(b).each(function(){a(this).is(":checkbox")?a(this).unwrap().unwrap():a(this).is("select")?(a(this).siblings("span").remove(),a(this).unwrap()):
a(this).is(":radio")?a(this).unwrap().unwrap():a(this).is(":file")?(a(this).siblings("span").remove(),a(this).unwrap()):a(this).is("button, :submit, :reset, a, input[type='button']")&&a(this).unwrap().unwrap();a(this).unbind(".uniform");a(this).css("opacity","1");var c=a.inArray(a(b),a.uniform.elements);a.uniform.elements.splice(c,1)})};a.uniform.noSelect=function(b){function c(){return!1}a(b).each(function(){this.onselectstart=this.ondragstart=c;a(this).mousedown(c).css({MozUserSelect:"none"})})};
a.uniform.update=function(c){c==void 0&&(c=a(a.uniform.elements));c=a(c);c.each(function(){var d=a(this);if(d.is("select")){var e=d.siblings("span"),f=d.parent("div");f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass);e.html(d.find(":selected").html());d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)}else if(d.is(":checkbox"))e=d.closest("span"),f=d.closest("div"),f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),e.removeClass(b.checkedClass),d.is(":checked")&&
e.addClass(b.checkedClass),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass);else if(d.is(":radio"))e=d.closest("span"),f=d.closest("div"),f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),e.removeClass(b.checkedClass),d.is(":checked")&&e.addClass(b.checkedClass),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass);else if(d.is(":file"))f=d.parent("div"),e=d.siblings(b.filenameClass),btnTag=d.siblings(b.fileBtnClass),f.removeClass(b.hoverClass+
" "+b.focusClass+" "+b.activeClass),e.text(d.val()),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass);else if(d.is(":submit")||d.is(":reset")||d.is("button")||d.is("a")||c.is("input[type=button]"))f=d.closest("div"),f.removeClass(b.hoverClass+" "+b.focusClass+" "+b.activeClass),d.is(":disabled")?f.addClass(b.disabledClass):f.removeClass(b.disabledClass)})};return this.each(function(){if(a.support.selectOpacity){for(var b=a(this),k=0;k<a.uniform.elements.length;k++)if(b.is(a.uniform.elements[k]))return;
b.is("select")?b.attr("multiple")!=!0&&(b.attr("size")==void 0||b.attr("size")<=1)&&c(b):b.is(":checkbox")?g(b):b.is(":radio")?d(b):b.is(":file")?f(b):b.is(":text, :password, input[type='email']")?($el=a(b),$el.addClass($el.attr("type")),i(b)):b.is("textarea")?(a(b).addClass("uniform"),i(b)):(b.is("a")||b.is(":submit")||b.is(":reset")||b.is("button")||b.is("input[type=button]"))&&e(b)}})}})(jQuery);var _GA={};if(window.jQuery)_GA.jQuery=!0;(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https://":"http://")+"stats.g.doubleclick.net/dc.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();
(function(a,b,e,c,g,d,f){a.GoogleAnalyticsObject=g;a[g]=a[g]||function(){(a[g].q=a[g].q||[]).push(arguments)};a[g].l=1*new Date;d=b.createElement(e);f=b.getElementsByTagName(e)[0];d.async=1;d.src=c;f.parentNode.insertBefore(d,f)})(window,document,"script","//www.google-analytics.com/analytics.js","ga");_GA.getDomain=function(a){return(a.replace(/^https?\:\/\//i,"").split("/")[0].split(".").reverse()[1]+"."+a.replace(/^https?\:\/\//i,"").split("/")[0].split(".").reverse()[0]).toLowerCase()};
_GA.getFromURL=function(a,b){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");rS="[\\?&]"+a+"=([^&#]*)";rG=RegExp(rS,"i");var e=typeof b!="undefined"?rG.exec(b):rG.exec(window.location.href);return e==null?null:decodeURIComponent(e[1].replace(/\+/g," "))};_GA._uGC=function(a,b,e){if(!a||a==""||!b||b==""||!e||e=="")return"";var c,g="-";c=a.indexOf(b);b=b.indexOf("=")+1;if(c>-1){e=a.indexOf(e,c);if(e<0)e=a.length;g=a.substring(c+b,e)}return g=="-"?"":g};
_GA.GetCallback=function(a){var b=a;typeof a=="string"&&(b=function(){window.location.href=a});return b};_GA.trackEvent=function(a,b,e,c,g,d){c=c==void 0||parseInt(c)!=NaN?0:parseInt(c);g=g==void 0||typeof g!="boolean"?!1:g;a=a.replace(/%20/g," ");b=b.replace(/%20/g," ").replace(/%26/g,"&");e=e==void 0?void 0:e.replace(/%20/g," ");_gaq.push(["_trackEvent",a,b,e,c,g]);g={nonInteraction:g};if(d=_GA.GetCallback(d))g.hitCallback=d;ga("send","event",a,b,e,c,g)};
_GA.setCV=function(a,b,e,c){_gaq.push(["_setCustomVar",a,b,e,c]);ga("set","dimension"+a,e)};_GA.trackPageview=function(a){if(!a&&_GA.pageViewPrefix)a=window.location,a="/"+_GA.pageViewPrefix+a.pathname+a.search;_gaq.push(["_trackPageview",a]);ga("send","pageview",{page:a})};_GA.setVirtualPage=function(a){_gaq.push(["_set","page",a]);ga("set","page",a)};
_GA.createCookie=function(a,b,e){if(e){var c=new Date;a=="userCategory"?c.setTime(c.getTime()+31536E6):c.setTime(c.getTime()+e*1E3);e="; expires="+c.toGMTString()}else e="";document.cookie=a+"="+b+e+"; path=/"};_GA.readCookie=function(a){a+="=";for(var b=document.cookie.split(";"),e=0;e<b.length;e++){for(var c=b[e];c.charAt(0)==" ";)c=c.substring(1,c.length);if(c.indexOf(a)==0)return c.substring(a.length,c.length)}return""};
_GA.setCrossVars=function(a){a=a.replace(/(\n|\r|\t)/,"");linkServer=a.match(/^https?\:/i)?a.match(/^(([a-z]+:)?(\/\/)?[^\/]+).*$/)[1]:"";linkDomain=linkServer!=""?_GA.getDomain(linkServer):"";inDomains=jQuery.inArray(linkDomain,_GA.GAcrossDomains)>=0?!0:!1;isThisDomain=_GA.thisDomain==linkDomain?!0:!1};_GA.setCrossDomain=function(a,b){_GA.setCrossVars(a.attr(b));linkDomain!=""&&inDomains&&!isThisDomain&&_gaq.push(function(){var e=_gat._getTrackerByName();a.attr(b,e._getLinkerUrl(a.attr(b)))})};
_GA.debug=!1;_GA.log=function(a){_GA.debug&&console.log(a)};_GA.delay=300;_GA.accountClassic=gaAccountClassic||"UA-30586-1";_GA.accountUniversal=gaAccountUniversal||"UA-44122519-1";_GA.fullHostname=document.location.hostname.toLowerCase();_GA.thisDomain=_GA.getDomain(_GA.fullHostname);_GA.pageURI=document.location.pathname.toLowerCase()+document.location.search;_GA.hrefRedirect="";_GA.pageViewPrefix=gaPrefix||null;_GA.thisDomainMatch=RegExp(_GA.thisDomain,"i");
var linkServer,linkDomain,inDomains,isThisDomain;_GA.GAcrossDomains=["campaignmonitor.com","createsend.com"];var _gaq=_gaq||[];_gaq.push(["_setAccount",_GA.accountClassic]);_gaq.push(["_setDomainName",_GA.thisDomain.indexOf("localhost")==-1?"."+_GA.thisDomain:"none"]);_gaq.push(["_setAllowLinker",!0]);_gaq.push(["_setAllowAnchor",!0]);ga("create",_GA.accountUniversal,_GA.thisDomain.indexOf("localhost")==-1?_GA.thisDomain:"none",{allowLinker:!0});ga("require","linker");ga("linker:autoLink",_GA.GAcrossDomains);
_gaq.push(function(){try{var a=_gat._getTrackerByName()._getVisitorCustomVar(1);a?a=="prospect"&&_GA.fullHostname.match("createsend")&&_GA.setCV(1,"user-type","user",1):_GA.setCV(1,"user-type","prospect",1);_GA.init()}catch(b){}});
_GA.init=function(){var a=/(\/agencies\/|\/agencies\/agency-resources\/|\/agencies\/currency\/|\/agencies\/profit\/|\/agencies\/infrastructure\/|\/agencies\/apply\/|\/agencies\/agency-resources\/screenshots\/)/i,b;_GA.pageURI.match(/(\/css\/|\/resources\/|\/create\/|\/guides\/mobile\/|\/guides\/design\/|\/guides\/coding\/|\/guides\/why-email\/|\/guides\/planning\/)/i)?b="designer":_GA.pageURI.match(a)&&(b="agency");if(b){var e=_GA.readCookie("userCategory");e?(a=e.split("-"),a.length==1&&a[0]!=b?
(_GA.setCV(2,"user-category",a[0]+"-"+b,1),_GA.createCookie("userCategory","",-1),_GA.createCookie("userCategory",a[0]+"-"+b)):(_GA.createCookie("userCategory","",-1),_GA.createCookie("userCategory",e))):(_GA.setCV(2,"user-category",b,1),_GA.createCookie("userCategory",b))}a=(b=_GA.readCookie("touchpoint"))?b.split("-"):[];_GA.pageURI.match(/(\/templates\/|\/build\/)/i)&&!b.match(/templateBuilder/i)?a.push("templateBuilder"):_GA.pageURI.match(/high-volume/i)&&!b.match(/highVolume/i)?a.push("highVolume"):
_GA.pageURI.match(/api/i)&&!b.match(/api/i)&&a.push("api");a!=""&&(_GA.setCV(3,"touchpoint",a.join("-"),1),_GA.createCookie("touchpoint","",-1),_GA.createCookie("touchpoint",a.join("-")));typeof bamGAVPV!="undefined"&&_GA.setVirtualPage(bamGAVPV);_GA.pageURI.match(/signupcomplete\=true/gi)?_GA.trackPageview("/signup/complete"):_GA.trackPageview()};
_GA.extendTracking=function(a){a("a").each(function(b){a(this).attr("href")!=void 0&&_GA.setCrossDomain(a(this),"href",b)});a("body").on("click","a",function(){var b=/\.(doc.*|jpg|png|xls|ppt.*|pdf|xls.*|zip|txt|js|mov|avi|epub|mobi)$/i,e=a(this),c=!0,g=typeof e.attr("href")!="undefined"?e.attr("href"):"",d=g.match(_GA.thisDomain)?!0:!1,f=_GA.getDomain(g);inDomains=jQuery.inArray(f,_GA.GAcrossDomains)>=0?!0:!1;if(!g.match(/^javascript:/i)&&(f=[],f.value=0,f.non_i=!1,g.match(/^mailto\:/i)?(f.category=
"email",f.action="click",f.label=g.replace(/^mailto\:/i,""),f.loc=g):g.match(b)?(b=/[.]/.exec(g)?/[^.]+$/.exec(g):void 0,f.category="download",f.action="click-"+b[0],f.label=g.replace(/ /g,"-"),f.loc=g):g.match(/^https?\:/i)&&!d&&!inDomains?(f.category="external",f.action="link",f.label=g.replace(/^https?\:\/\//i,""),f.non_i=!0,f.loc=g):g.match(/^tel\:/i)?(f.category="telephone",f.action="click",f.label=g.replace(/^tel\:/i,""),f.loc=g):c=!1,c))return c=!0,e instanceof jQuery?(g=e.data("via"),g=typeof g==
"undefined"?!1:(g=_GA.getDomain(g))&&g.toLowerCase()==="intercom.io"):g=!1,_GA.trackEvent(f.category.toLowerCase(),f.action.toLowerCase(),f.label.toLowerCase(),f.value,f.non_i,!g&&(f.category=="external"||f.category=="download")&&(e.attr("target")==void 0||e.attr("target").toLowerCase()!="_blank")?(c=!1,a(this).attr("href")):void 0),c})};
_GA.customTracking=function(a){try{var b=a("#form-sign-up"),e;ga(function(a){e=a.get("linkerParam")});b&&_gaq.push(function(){var a=_gat._getTrackerByName()._getLinkerUrl("");b.append('<input type="hidden" id="gaCookie" name="gaCookie" value="#'+a.substring(1)+"&"+e+'">')});a("#addClientButton").on("click",function(){_GA.setCV(4,"multiple-clients","true",1);_GA.trackEvent("user","client-added")})}catch(c){}};_GA.jQuery&&jQuery(document).ready(function(a){_GA.extendTracking(a);_GA.customTracking(a)});
if(!window.CS)window.CS={};CS.GoogleAnalytics=function(){return{trackEvent:function(a,b,e,c,g,d){window.ga&&ga.loaded?_GA.trackEvent(a,b,e,c,g,d):(a=_GA.GetCallback(d))&&a()},setCV:function(a,b,e,c){window.ga&&ga.loaded&&_GA.setCV(a,b,e,c)},trackPageview:function(a){window.ga&&ga.loaded&&_GA.trackPageview(a)}}}();$.fn.focusWithoutScrolling=function(){var a=$(document).scrollLeft(),b=$(document).scrollTop();this.attr("tabindex",-1).focus();window.scrollTo(a,b)};if(!window.CS)window.CS={};if(!window.CS.Components)window.CS.Components={};
(function(a,b,e){function c(){CS.Components.debug&&e.log(g,arguments)}var g="menuButton";a[g]=function(b,e){this.$component=a(b||".js-menu-button");this.id=this.$component.attr("id")||Math.floor(Math.random()*1E4);c("Binding",this.$component);this.$trigger=a(".js-menu-button-trigger",this.$component);this.$target=a(".js-menu-button-target",this.$component);this.$list=a(".js-menu-button-filter-results",this.$component);this.$counter=a(".js-menu-button-filter-counter",this.$component);this.$filter=
a(".js-menu-button-filter-input",this.$component);this.filterKeyword="";this.hidden=!0;this.init(e)};a[g].defaults={hasFilter:!1,hasExtraLi:!0,itemAjaxSource:""};a[g].prototype={setOptions:function(b){this.options=a.extend({},a[g].defaults,b);if(this.$filter&&this.$filter.length)this.options.hasFilter=!0;this.options.itemAjaxSource=this.$component.data("list-url");this.options.hasExtraLi=!a(".js-menu-button-filter",this.$component);c("Options",this.options)},focusOnItem:function(a,b){var e,g;e=!this.options.hasFilter;
a.addClass("is-focused");e?a.focusWithoutScrolling():b?a.position().top+a.outerHeight(!0)-this.$filterHeight>332?(e=this.$list.scrollTop()+this.$menuItemHeight,this.$list.scrollTop(e),g=a.position().top+a.outerHeight(!0)-this.$filterHeight+a.position().top/this.$menuItemHeight-332,g>1&&this.$list.scrollTop(e+g),c("scroll down")):a.position().top+a.outerHeight(!0)-this.$filterHeight<0&&(this.$list.scrollTop(0),c("scroll down, wrap")):a.position().top<this.$filterHeight?(e=this.$list.scrollTop()-this.$menuItemHeight,
this.$list.scrollTop(e),g=a.position().top-this.$filterHeight,g<-1&&this.$list.scrollTop(e+g),c("scroll up")):a.position().top>this.$list.scrollTop()+332&&(e=a.position().top-this.$menuItemHeight,this.$list.scrollTop(e),c("scroll up - wrap"))},toggle:function(){this.hidden?this.show():this.hide()},show:function(){var b;this.hidden=!1;this.$trigger.addClass("is-visible");this.$target.addClass("is-visible");this.$trigger.attr("aria-expanded","true");this.$target.attr("aria-hidden","false");if(this.options.hasFilter&&
(this.$list.scrollTop(0),this.$filter.attr("tabindex",0),this.$filter.focusWithoutScrolling(),!this.$menuItemHeight&&this.$links&&this.$links[0]))b=a(this.$links[0]).parent(),this.$menuItemHeight=b.outerHeight(!0),this.$filterHeight=b.position().top},hide:function(){this.hidden=!0;this.$trigger.removeClass("is-visible");this.$target.removeClass("is-visible");this.$trigger.attr("aria-expanded","false");this.$target.attr("aria-hidden","true");this.$links.each(function(){a(this).removeClass("is-focused")});
this.focusedMenuIndex=-1},chooseMenu:function(b){var c=this.$links,e=c.length-1-(!this.options.hasExtraLi?0:1);if(c.length)this.focusedMenuIndex===-1?this.focusedMenuIndex=b?0:e:(c.each(function(){a(this).removeClass("is-focused")}),this.focusedMenuIndex=b?this.focusedMenuIndex!==e?this.focusedMenuIndex+1:0:this.focusedMenuIndex!==0?this.focusedMenuIndex-1:e),this.focusOnItem(c.eq(this.focusedMenuIndex),b)},selectPrevMenu:function(){this.hidden||this.chooseMenu(!1)},selectNextMenu:function(){this.hidden||
this.chooseMenu(!0)},init:function(b){var c=this;this.setOptions(b);this.options.itemAjaxSource?(b=a.ajax({url:this.options.itemAjaxSource,cache:!0}),b.then(function(a){a!==void 0&&(c.$target.find(".js-menu-button-filter-results").html(a),c.postload())})):this.postload()},updateCounter:function(){this.options.hasFilter&&this.$counter.html(this.$links.length+" results are available.")},clickCurrentLink:function(){if(this.focusedMenuIndex!=-1)b.location.href=this.$links[this.focusedMenuIndex].getAttribute("href")},
postload:function(){var c=this;this.$allLinks=a("a",this.$target);this.$links=a("a",this.$target);this.updateCounter();a(b).click(function(b){var e=a(b.target);if(c.$component.has(b.target).length)if(c.options.hasFilter&&b.target===c.$filter[0])return!1;else if(c.$target.has(b.target).length)return c.clickCurrentLink(),!1;else{if(e.hasClass("js-menu-button-trigger")!==0)return c.toggle(),!1}else c.hide();return!0});var e=function(e){var f=function(){var e=a(b.activeElement);return e.hasClass("is-focused")||
e.is(c.$filter)};if(e.which===9)c.hidden||c.hide();else if(e.which===13||e.which===32)if(a(b.activeElement).is(c.$trigger))return c.toggle(),!1;else{if(e.which===13&&f()&&c.$links.length)return c.clickCurrentLink(),!1}else if(e.which===32)return!1;else if(e.which===27)return c.hide(),!1;else if(e.which===38){if(!c.hidden)return c.selectPrevMenu(),!1}else if(e.which===40)return c.hidden&&c.show(),c.selectNextMenu(),!1;return!0};this.$trigger.keydown(e).click(function(a){c.$trigger.focus();a.preventDefault();
return!0});this.$filter.keydown(function(a){a.which===9&&c.hide();return!0}).keyup(function(b){var g=[];if(b.target.value!==c.filterKeyword){c.$list.show();if(b.target.value)c.$allLinks.each(function(c,d){var e=a(d);e.removeClass("is-focused");a(e[0]).text().toUpperCase().indexOf(b.target.value.toUpperCase())!==-1?(g.push(e),e.parent().show()):e.parent().hide()}),c.$links=a(g).map(function(){return this.toArray()});else if(c.$links.length!==c.$allLinks.length)c.$links=a.extend({},c.$allLinks),c.$links.each(function(b,
c){var d=a(c);d.removeClass("is-focused");d.parent().show()});c.focusedMenuIndex=-1;c.$list.scrollTop(0);c.$links.length===0&&c.$list.hide();c.chooseMenu(!0);c.updateCounter();c.filterKeyword=b.target.value}return e(b)});this.$links.each(function(){var b=a(this),g;c.options.itemAjaxSource&&(g=a(".js-client-name",c.$triger).text(),b.text()===g&&b.addClass("is-active"));b.attr("tabindex","-1").keydown(e).hover(function(b){b=a(b.target);c.$links.each(function(){a(this).removeClass("is-focused")});c.focusedMenuIndex=
c.$links.index(b);c.focusOnItem(b)},function(b){a(b.target).removeClass("is-focused")})});this.hide()}};a.fn[g]=function(b){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var i=a(this).data(g);i?typeof b==="string"?i[b].apply(i,e):c("Already bound"):(i=new a[g](this,b),a(this).data(g,i))})}})(jQuery,document,window.console);$(document).ready(function(){$(".js-menu-button").menuButton()});
